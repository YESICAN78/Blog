{"remainingRequest":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\thread-loader\\dist\\cjs.js!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\babel-loader\\lib\\index.js!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Login.vue","mtime":1603634858952},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vYXBpL2luZGV4IjsKdmFyIHBvc3RMb2dpbiA9IHJlcXVlc3QucG9zdExvZ2luOwp2YXIgcG9zdGlmTG9naW4gPSByZXF1ZXN0LnBvc3RpZkxvZ2luOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gewogICAgICAvL2Zvcm3ooajljZXnmoTmlbDmja4KICAgICAgZm9ybTogewogICAgICAgIHVzZXI6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICAvL+ihqOWNlemqjOivgeaVsOaNrgogICAgICBydWxlczogewogICAgICAgIHVzZXI6IFsvL3RyaWdnZXLlpLHljrvnhKbngrnop6blj5EKICAgICAgICB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXnlKjmiLflkI0iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgLy/mlbDmja7nsbvlnosKICAgICAgICAgIHR5cGU6ICJzdHJpbmciLAogICAgICAgICAgLy/mraPliJnop4TliJkKICAgICAgICAgIHBhdHRlcm46IC9eW1x3XHU0ZTAwLVx1OWZhNVx1YWMwMC1cdWQ3ZmZcdTA4MDAtXHU0ZTAwXC1dezIsNn0kLywKICAgICAgICAgIHRyaWdnZXI6IFsiYmx1ciIsICJjaGFuZ2UiXQogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgICAgIGlmICgvXltcdzw+LC4/fDsnOiJ7fSFAIyQlXiYqKClcL1wtXFtcXVxcXXs2LDE4fSQvLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuWvhueggTYtMTjkvY0s5LiN5YWB6K645Ye6546w5aWH5oCq55qE5a2X56ymIikpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeWvhueggSIpKTsKICAgICAgICAgICAgfSAvL+WcqOi/memHjOi/mOmcgOimgemqjOivgeehruiupOWvhueggeeahOiupOivgQoKCiAgICAgICAgICAgIF90aGlzLmZvcm0uY2hlY2twYXNzd29yZCAmJiBfdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlRmllbGQoImNoZWNrcGFzc3dvcmQiKTsKICAgICAgICAgIH0sCiAgICAgICAgICB0eXBlOiAic3RyaW5nIiwKICAgICAgICAgIHRyaWdnZXI6IFsiYmx1ciIsICJjaGFuZ2UiXSwKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIHByb3BzOiBbImRpYWxvZ1Zpc2libGUiXSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgLy/ngrnlh7vnmbvlvZUKICAgIGhhbmRlbENvbHNlOiBmdW5jdGlvbiBoYW5kZWxDb2xzZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAvL+mqjOivgemAmui/hyDlj5HotbfnmbvlvZXor7fmsYIKICAgICAgICAgIHBvc3RMb2dpbihfdGhpczIuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlKSB7CiAgICAgICAgICAgICAgLy/nmbvlvZXlpLHotKUKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnLAogICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgICAgb2Zmc2V0OiAxMDAsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8v55m75b2V5oiQ5YqfCiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1zZywKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIG9mZnNldDogMTAwLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAKICAgICAgICAgICAgICB9KTsgLy8g55m75b2V5oiQ5Yqf5Yi35paw6aG16Z2iCgoKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHBvc3RpZkxvZ2luKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyaWQiLCByZXMuZGF0YS51c2VySW5mby5faWQpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogIueZu+W9leWksei0pS3nqI3lkI7lho3or5UiLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgb2Zmc2V0OiAxMDAsCiAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2Uge30KICAgICAgfSk7CiAgICB9LAogICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIGJlZm9yZUNsb3NlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruWumuWFs+mXrfCfpKM/IikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRlbWl0KCJoYW5kZWxMb2dpbiIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9CiAgfSwKICAvL+eUn+WRveWRqOacnyAtIOWIm+W7uuWujOaIkO+8iOiuv+mXruW9k+WJjXRoaXPlrp7kvovvvIkKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgLy/nlJ/lkb3lkajmnJ8gLSDmjILovb3lrozmiJDvvIjorr/pl65ET03lhYPntKDvvIkKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7fQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 登录页面 -->\r\n<template>\r\n  <div>\r\n    <el-dialog title=\"登录\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"beforeClose\">\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" :rules=\"rules\">\r\n        <el-form-item class=\"form-item\" label=\"用户名:\" prop=\"user\">\r\n          <el-input v-model=\"form.user\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item class=\"form-item\" label=\"密码:\" prop=\"password\">\r\n          <el-input v-model=\"form.password\" show-password></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"handelColse\">立即登录</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"../api/index\";\r\nconst postLogin = request.postLogin;\r\nconst postifLogin = request.postifLogin;\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      //form表单的数据\r\n      form: {\r\n        user: \"\",\r\n        password: \"\",\r\n      },\r\n      //表单验证数据\r\n      rules: {\r\n        user: [\r\n          //trigger失去焦点触发\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          {\r\n            //数据类型\r\n            type: \"string\",\r\n            //正则规则\r\n            pattern: /^[\\w\\u4e00-\\u9fa5\\uac00-\\ud7ff\\u0800-\\u4e00\\-]{2,6}$/,\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (value) {\r\n                if (\r\n                  /^[\\w<>,.?|;':\"{}!@#$%^&*()\\/\\-\\[\\]\\\\]{6,18}$/.test(value)\r\n                ) {\r\n                  callback();\r\n                } else {\r\n                  callback(new Error(\"密码6-18位,不允许出现奇怪的字符\"));\r\n                }\r\n              } else {\r\n                callback(new Error(\"请输入密码\"));\r\n              }\r\n              //在这里还需要验证确认密码的认证\r\n              this.form.checkpassword &&\r\n                this.$refs.form.validateField(\"checkpassword\");\r\n            },\r\n            type: \"string\",\r\n            trigger: [\"blur\", \"change\"],\r\n            required: true,\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  props: [\"dialogVisible\"],\r\n  computed: {},\r\n  methods: {\r\n    //点击登录\r\n    handelColse() {\r\n      this.$refs[\"form\"].validate((valid) => {\r\n        if (valid) {\r\n          //验证通过 发起登录请求\r\n          postLogin(this.form)\r\n            .then((res) => {\r\n              if (res.data.code) {\r\n                //登录失败\r\n                this.$message({\r\n                  message: res.data.msg,\r\n                  type: \"warning\",\r\n                  offset: 100,\r\n                  duration: 1500,\r\n                });\r\n              } else {\r\n                //登录成功\r\n                this.$message({\r\n                  message: res.data.msg,\r\n                  type: \"success\",\r\n                  offset: 100,\r\n                  duration: 1500,\r\n                });\r\n                // 登录成功刷新页面\r\n                setTimeout(() => { \r\n                  postifLogin()\r\n                    .then((res) => {\r\n                      localStorage.setItem(\"userid\", res.data.userInfo._id);\r\n                    })\r\n                  window.location.reload();\r\n                }, 2000);\r\n              }\r\n            })\r\n            .catch((e) => {\r\n              this.$message({\r\n                message: \"登录失败-稍后再试\",\r\n                type: \"error\",\r\n                offset: 100,\r\n                duration: 1500,\r\n              });\r\n            });\r\n        } else {\r\n\r\n        }\r\n      });\r\n    },\r\n    beforeClose() {\r\n      this.$confirm(\"确定关闭🤣?\")\r\n        .then(() => {\r\n          this.$emit(\"handelLogin\");\r\n        })\r\n        .catch(() => {});\r\n    },\r\n  },\r\n\r\n  //生命周期 - 创建完成（访问当前this实例）\r\n  created() {},\r\n  //生命周期 - 挂载完成（访问DOM元素）\r\n  mounted() {},\r\n  destroyed() {},\r\n};\r\n</script>\r\n<style scoped lang='less'>\r\n.form-item {\r\n  padding-right: 30px;\r\n}\r\n.vcode {\r\n  user-select: none;\r\n  .el-input {\r\n    width: 35%;\r\n    float: left;\r\n  }\r\n  div.svg {\r\n    width: 35%;\r\n    float: left;\r\n    height: 40px;\r\n    /deep/ svg {\r\n      width: 100% !important;\r\n      height: 100% !important;\r\n    }\r\n  }\r\n  .refresh {\r\n    width: 30%;\r\n    height: 40px;\r\n    float: left;\r\n    line-height: 50px;\r\n    color: blue;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}