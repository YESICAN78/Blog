{"remainingRequest":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Forum\\Forumcontent.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Forum\\Forumcontent.vue","mtime":1603621893708},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWFzc2FnZSBmcm9tICIuL01hc3NhZ2UiOw0KDQovL+WvvOWFpeaOpeWPow0KaW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vLi4vYXBpL2luZGV4IjsNCmNvbnN0IFBvc3RnZXRBcnRpY2xlID0gcmVxdWVzdC5Qb3N0Z2V0QXJ0aWNsZTsNCmNvbnN0IGdldGZvcnVtTXNnID0gcmVxdWVzdC5nZXRmb3J1bU1zZzsNCmNvbnN0IHBvc3RpZkxvZ2luID0gcmVxdWVzdC5wb3N0aWZMb2dpbjsNCmNvbnN0IFBvc3RDb2xsZWN0aW9uID0gcmVxdWVzdC5Qb3N0Q29sbGVjdGlvbjsNCmNvbnN0IFVwZGF0YWNvbGxhcnRpY2xlID0gcmVxdWVzdC5VcGRhdGFjb2xsYXJ0aWNsZTsNCmNvbnN0IFBvc3RwdiA9IHJlcXVlc3QuUG9zdHB2Ow0KDQpmdW5jdGlvbiBzZXROdW0obnVtKSB7DQogIHJldHVybiBudW0gLyAxMDAwID4gMTAgPyBudW0gLyAxMDAwMCArICLkuIciIDogbnVtOw0KfQ0KDQpmdW5jdGlvbiBnZXRUaW1lKHZhbCkgew0KICByZXR1cm4gKHZhbCA8IDEwID8gIjAiIDogIiIpICsgdmFsOw0KfQ0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQ29udGFpbmVyIiwNCiAgY29tcG9uZW50czogeyBNYXNzYWdlIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlmc2hvd1JlY2hUZXh0OiBmYWxzZSwNCiAgICAgIGluZm9tYXRpb25MaXN0OiBbXSwNCiAgICAgIC8v5paH56ug6K+E6K6655u45YWz5pWw5o2uDQogICAgICBBcnRpY2xlZGF0YTogW10sDQogICAgICBza2lwOiAwLA0KICAgICAgbGltaXQ6IDAsDQogICAgICAvL+ivt+axguaWh+eroOeahOaVsOaNrg0KICAgICAgc2tpcDE6IDAsDQogICAgICBsaW1pdDE6IDUsDQogICAgICAvL+eCuei1nueahOaVsOaNrg0KICAgICAgaWZwdjogMSwNCiAgICAgIC8v5YKo5a2Y5paH56ug55qEaWQNCiAgICAgIGFpZDogIiIsDQogICAgICAvL+mhteeggeebuOWFs+eahOaVsOaNrg0KICAgICAgUGFnZVNpemU6IDgsIC8v5q+P5qyh6K+35rGCMTDnq6Dmlofnq6ANCiAgICAgIFBpbmRleFNpemU6IDEsIC8v6buY6K6kMemhtQ0KICAgICAgLy/lupXpg6jmsqHmnInmlbDmja7kuoYNCiAgICAgIGlmbm9tb3JlOiBmYWxzZSwNCiAgICAgIC8v5piv5ZCm5Yqg6L29DQogICAgICBpZmxvYWRpbmc6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIGZpbHRlcnM6IHsNCiAgICBOdW0odmFsKSB7DQogICAgICBsZXQgcHAgPSBzZXROdW0odmFsKTsNCiAgICAgIHJldHVybiBwcDsNCiAgICB9LA0KICAgIFRpbWUodmFsKSB7DQogICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHZhbCk7DQogICAgICBsZXQgWVkgPSBnZXRUaW1lKGRhdGUuZ2V0RnVsbFllYXIoKSksDQogICAgICAgIE1NID0gZ2V0VGltZShkYXRlLmdldE1vbnRoKCkgKyAxKSwNCiAgICAgICAgREQgPSBnZXRUaW1lKGRhdGUuZ2V0RGF0ZSgpKSwNCiAgICAgICAgSCA9IGdldFRpbWUoZGF0ZS5nZXRIb3VycygpKSwNCiAgICAgICAgTSA9IGdldFRpbWUoZGF0ZS5nZXRNaW51dGVzKCkpLA0KICAgICAgICBTID0gZ2V0VGltZShkYXRlLmdldFNlY29uZHMoKSk7DQogICAgICByZXR1cm4gYCR7WVl9LyR7TU19LyR7RER9LyR7SH06JHtNfToke1N9YDsNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7fSwNCiAgIHdhdGNoOiB7DQogICAgLy/nm5HlkKzot6/nlLHnmoTlj5jljJYg5Y+I6YeN5paw6K+35rGCDQogICAgaWQoKSB7DQogICAgICB0aGlzLmdldEFsbGFydGljbGUoKTsNCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v6K+35rGC5paH56ug55qE5Ye95pWwDQogICAgZ2V0QWxsYXJ0aWNsZSgpIHsNCiAgICAgIHRoaXMuaWZsb2FkaW5nID0gdGhpcy5pZm5vbW9yZSA9IGZhbHNlOw0KICAgICAgUG9zdGdldEFydGljbGUodGhpcy5za2lwMSwgdGhpcy5saW1pdDEpDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy5pbmZvbWF0aW9uTGlzdCA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7DQogICAgfSwNCiAgICAvL+ebkeWQrOa7muadoeiOt+WPluaWh+eroA0KICAgIGhhbmRlbE5ld1Njcm9sbCgpIHsNCiAgICAgIGlmICh0aGlzLmlmbm9tb3JlIHx8IHRoaXMuaWZsb2FkaW5nKSByZXR1cm47DQogICAgICAvL+a1j+iniOWZqOeahOaAu+mrmA0KICAgICAgbGV0IGEgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0Ow0KICAgICAgLy/mu5rliqjpq5gNCiAgICAgIGxldCBiID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsNCiAgICAgIC8v5Y+v6KeG5Yy65Z+f55qE5pCeDQogICAgICBsZXQgYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7DQoNCiAgICAgIGlmIChiICsgYyA+PSBhIC0gMzAwKSB7DQogICAgICAgIHRoaXMuaWZsb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5za2lwMSArPTU7DQogICAgICAgIFBvc3RnZXRBcnRpY2xlKHRoaXMuc2tpcDEsIHRoaXMubGltaXQxKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICB0aGlzLmlmbG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7DQogICAgICAgICAgICAgIHRoaXMuaW5mb21hdGlvbkxpc3QucHVzaCguLi5kYXRhKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuaWZub21vcmUgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGUgPT4ge30pOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/mjqfliLblrZDnu4Tku7bnmoTlh73mlbANCiAgICBNYXNzYWdlQ2xpY2soYWlkLCBpbmRleCkgew0KICAgICAgdGhpcy4kcmVmcy5SZWNoVGV4dFtpbmRleF0uTWFzc2FnZWZuKGluZGV4KTsNCiAgICAgIC8vIOiOt+WPluivpeevh+aWh+eroOeahOivhOiuuuS/oeaBrw0KICAgICAgdGhpcy5haWQgPSBhaWQ7DQogICAgICBnZXRmb3J1bU1zZyh7DQogICAgICAgIGFpZCwNCiAgICAgICAgc2tpcDogdGhpcy5za2lwLA0KICAgICAgICBsaW1pdDogdGhpcy5saW1pdA0KICAgICAgfSkNCiAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgaXRlbS5yZXBseSA9IHsNCiAgICAgICAgICAgICAgICB1c2VyOiAiIiwgLy9pZCjosIHlm57lpI3miJEpDQogICAgICAgICAgICAgICAgY29udGVudDogIiIsIC8v5Zue5aSN55qE57G75a65DQogICAgICAgICAgICAgICAgc3Vic2V0dXNlcjogIiIsDQogICAgICAgICAgICAgICAgZGF0ZTogIiIsDQogICAgICAgICAgICAgICAgaWZTaG93OiBmYWxzZSwgLy/mmK/lkKbmmL7npLrlm57lpI3moYYNCiAgICAgICAgICAgICAgICBsYXN0SWRleEFycjogW10gLy/kv53lrZjnjrDlnKjnmoTngrnlh7vnmoTniLbnuqflkozlrZDpm4bnmoTovpPlhaXmoYYNCiAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5BcnRpY2xlZGF0YSA9IGRhdGE7DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICAgIH0sDQogICAgLy9NYXNzYWdl57uE5Lu255qE5LqL5Lu25Ye95pWwDQogICAgUGN1cnJlbnRDaGFuZ2UoaW5kZXgsIHNpemUpIHsNCiAgICAgIGxldCBza2lwID0gc2l6ZSAqIChpbmRleCAtIDEpOw0KICAgICAgZ2V0Zm9ydW1Nc2coew0KICAgICAgICBhaWQ6IHRoaXMuYWlkLA0KICAgICAgICBza2lwOiBza2lwLA0KICAgICAgICBsaW1pdDogc2l6ZQ0KICAgICAgfSkNCiAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgaXRlbS5yZXBseSA9IHsNCiAgICAgICAgICAgICAgICB1c2VyOiAiIiwgLy9pZCjosIHlm57lpI3miJEpDQogICAgICAgICAgICAgICAgY29udGVudDogIiIsIC8v5Zue5aSN55qE57G75a65DQogICAgICAgICAgICAgICAgc3Vic2V0dXNlcjogIiIsDQogICAgICAgICAgICAgICAgZGF0ZTogIiIsDQogICAgICAgICAgICAgICAgaWZTaG93OiBmYWxzZSwgLy/mmK/lkKbmmL7npLrlm57lpI3moYYNCiAgICAgICAgICAgICAgICBsYXN0SWRleEFycjogW10gLy/kv53lrZjnjrDlnKjnmoTngrnlh7vnmoTniLbnuqflkozlrZDpm4bnmoTovpPlhaXmoYYNCiAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5BcnRpY2xlZGF0YSA9IGRhdGE7DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgLy/ngrnlh7vmlLbol4/lj5HpgIHmlbDmja4NCiAgICBDb2xsZWN0aW9uKGFpZCkgew0KICAgICAgLy/liKTmlq3mmK/lkKbnmbvlvZUNCiAgICAgIHBvc3RpZkxvZ2luKCkNCiAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICBpZiAocmVzLmRhdGEudXNlckluZm8pIHsNCiAgICAgICAgICAgIC8v5pu05paw5pS26JePDQogICAgICAgICAgICBVcGRhdGFjb2xsYXJ0aWNsZShhaWQsIHJlcy5kYXRhLnVzZXJJbmZvLl9pZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tc2csDQogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgICAgIH0sIDEwMDApOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICBtZXNzYWdlOiAi6K+35YWI55m75b2VIiwNCiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIC8v54K56LWe6YeP55qE6K+35rGCDQogICAgYWRkcHYoYWlkKSB7DQogICAgICBsZXQgdXNlcmlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJpZCIpOw0KICAgICAgUG9zdHB2KGFpZCwgdXNlcmlkKQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tc2csDQogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDANCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsNCiAgICAgICAgICAgIH0sIDEwMDApOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnLA0KICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgICB9LCAxMDAwKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7DQogICAgfQ0KICB9LA0KICAvL+eUn+WRveWRqOacnyAtIOWIm+W7uuWujOaIkO+8iOiuv+mXruW9k+WJjXRoaXPlrp7kvovvvIkNCiAgY3JlYXRlZCgpIHt9LA0KICAvL+eUn+WRveWRqOacnyAtIOaMgui9veWujOaIkO+8iOiuv+mXrkRPTeWFg+e0oO+8iQ0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0QWxsYXJ0aWNsZSgpOw0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLmhhbmRlbE5ld1Njcm9sbCk7DQogIH0sDQogIGRlc3Ryb3llZCgpIHsNCiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5oYW5kZWxOZXdTY3JvbGwpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Forumcontent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Forumcontent.vue","sourceRoot":"src/components/Forum","sourcesContent":["<!-- 类容部分 -->\r\n<template>\r\n  <div class=\"Forumcontent\">\r\n    <div class=\"Topstory-mainColumnCard\">\r\n      <ul>\r\n        <li v-for=\"(item,index) in infomationList\" :key=\"item._id\">\r\n          <div class=\"box\">\r\n            <a class=\"title\" :href=\"'/Forumarticle/'+ item._id\">{{item.title}}</a>\r\n            <p class=\"time\">发布时间:{{item.date | Time}}</p>\r\n            <div class=\"RichContent\">\r\n              <div class=\"RichContent-cover\">\r\n                <router-link :to=\"'/Forumarticle/'+ item._id\">\r\n                  <img :src=\"item.forumface\" alt />\r\n                </router-link>\r\n              </div>\r\n              <div class=\"RichContent-inner\">\r\n                <div class=\"RichText\" v-html=\"item.content\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"ContentItem-actions\">\r\n            <span @click=\"addpv(item._id)\">\r\n              <svg\r\n                class=\"Zi Zi--Like\"\r\n                fill=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                style=\"margin-right: 5px;\"\r\n              >\r\n                <path\r\n                  d=\"M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z\"\r\n                  fill-rule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              {{item.pv}}\r\n            </span>\r\n            <span @click=\"MassageClick(item._id,index)\">\r\n              <i class=\"el-icon-s-comment\"></i>\r\n              {{item.commentnum | Num}}条评论\r\n            </span>\r\n            <span @click=\"Collection(item._id)\">\r\n              <i class=\"el-icon-star-on\"></i>\r\n              收藏\r\n            </span>\r\n            <span class=\"reding\">\r\n              <router-link :to=\"'/Forumarticle/'+ item._id\">阅读全文</router-link>\r\n            </span>\r\n          </div>\r\n          <Massage\r\n            @PcurrentChange=\"PcurrentChange\"\r\n            :aid=\"item._id\"\r\n            :Articledata=\"Articledata\"\r\n            ref=\"RechText\"\r\n          ></Massage>\r\n        </li>\r\n      </ul>\r\n      <div v-if=\"ifloading\" class=\"loading\">\r\n          <div>\r\n            <span>加载中请稍等....</span>\r\n            <svg viewBox=\"25 25 50 50\" class=\"circular\">\r\n              <circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" class=\"path\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        <p v-if=\"ifnomore\" class=\"no-more\">我也是有底线的哦😎</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Massage from \"./Massage\";\r\n\r\n//导入接口\r\nimport request from \"../../api/index\";\r\nconst PostgetArticle = request.PostgetArticle;\r\nconst getforumMsg = request.getforumMsg;\r\nconst postifLogin = request.postifLogin;\r\nconst PostCollection = request.PostCollection;\r\nconst Updatacollarticle = request.Updatacollarticle;\r\nconst Postpv = request.Postpv;\r\n\r\nfunction setNum(num) {\r\n  return num / 1000 > 10 ? num / 10000 + \"万\" : num;\r\n}\r\n\r\nfunction getTime(val) {\r\n  return (val < 10 ? \"0\" : \"\") + val;\r\n}\r\nexport default {\r\n  name: \"Container\",\r\n  components: { Massage },\r\n  data() {\r\n    return {\r\n      ifshowRechText: false,\r\n      infomationList: [],\r\n      //文章评论相关数据\r\n      Articledata: [],\r\n      skip: 0,\r\n      limit: 0,\r\n      //请求文章的数据\r\n      skip1: 0,\r\n      limit1: 5,\r\n      //点赞的数据\r\n      ifpv: 1,\r\n      //储存文章的id\r\n      aid: \"\",\r\n      //页码相关的数据\r\n      PageSize: 8, //每次请求10章文章\r\n      PindexSize: 1, //默认1页\r\n      //底部没有数据了\r\n      ifnomore: false,\r\n      //是否加载\r\n      ifloading: false,\r\n    };\r\n  },\r\n  filters: {\r\n    Num(val) {\r\n      let pp = setNum(val);\r\n      return pp;\r\n    },\r\n    Time(val) {\r\n      let date = new Date(val);\r\n      let YY = getTime(date.getFullYear()),\r\n        MM = getTime(date.getMonth() + 1),\r\n        DD = getTime(date.getDate()),\r\n        H = getTime(date.getHours()),\r\n        M = getTime(date.getMinutes()),\r\n        S = getTime(date.getSeconds());\r\n      return `${YY}/${MM}/${DD}/${H}:${M}:${S}`;\r\n    }\r\n  },\r\n  computed: {},\r\n   watch: {\r\n    //监听路由的变化 又重新请求\r\n    id() {\r\n      this.getAllarticle();\r\n      document.documentElement.scrollTop = 0;\r\n    }\r\n  },\r\n  methods: {\r\n    //请求文章的函数\r\n    getAllarticle() {\r\n      this.ifloading = this.ifnomore = false;\r\n      PostgetArticle(this.skip1, this.limit1)\r\n        .then(res => {\r\n          this.infomationList = res.data.data;\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    //监听滚条获取文章\r\n    handelNewScroll() {\r\n      if (this.ifnomore || this.ifloading) return;\r\n      //浏览器的总高\r\n      let a = document.documentElement.offsetHeight;\r\n      //滚动高\r\n      let b = document.documentElement.scrollTop;\r\n      //可视区域的搞\r\n      let c = document.documentElement.clientHeight;\r\n\r\n      if (b + c >= a - 300) {\r\n        this.ifloading = true;\r\n        this.skip1 +=5;\r\n        PostgetArticle(this.skip1, this.limit1)\r\n          .then(res => {\r\n            this.ifloading = false;\r\n            let data = res.data.data;\r\n            if (data.length) {\r\n              this.infomationList.push(...data);\r\n            } else {\r\n              this.ifnomore = true;\r\n            }\r\n          })\r\n          .catch(e => {});\r\n      }\r\n    },\r\n    //控制子组件的函数\r\n    MassageClick(aid, index) {\r\n      this.$refs.RechText[index].Massagefn(index);\r\n      // 获取该篇文章的评论信息\r\n      this.aid = aid;\r\n      getforumMsg({\r\n        aid,\r\n        skip: this.skip,\r\n        limit: this.limit\r\n      })\r\n        .then(res => {\r\n          let data = res.data.data;\r\n          if (res.data.code === 0) {\r\n            data.forEach(item => {\r\n              item.reply = {\r\n                user: \"\", //id(谁回复我)\r\n                content: \"\", //回复的类容\r\n                subsetuser: \"\",\r\n                date: \"\",\r\n                ifShow: false, //是否显示回复框\r\n                lastIdexArr: [] //保存现在的点击的父级和子集的输入框\r\n              };\r\n            });\r\n            this.Articledata = data;\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    //Massage组件的事件函数\r\n    PcurrentChange(index, size) {\r\n      let skip = size * (index - 1);\r\n      getforumMsg({\r\n        aid: this.aid,\r\n        skip: skip,\r\n        limit: size\r\n      })\r\n        .then(res => {\r\n          let data = res.data.data;\r\n          if (res.data.code === 0) {\r\n            data.forEach(item => {\r\n              item.reply = {\r\n                user: \"\", //id(谁回复我)\r\n                content: \"\", //回复的类容\r\n                subsetuser: \"\",\r\n                date: \"\",\r\n                ifShow: false, //是否显示回复框\r\n                lastIdexArr: [] //保存现在的点击的父级和子集的输入框\r\n              };\r\n            });\r\n            this.Articledata = data;\r\n          }\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    //点击收藏发送数据\r\n    Collection(aid) {\r\n      //判断是否登录\r\n      postifLogin()\r\n        .then(res => {\r\n          if (res.data.userInfo) {\r\n            //更新收藏\r\n            Updatacollarticle(aid, res.data.userInfo._id).then(res => {\r\n              this.$message({\r\n                message: res.data.msg,\r\n                type: \"success\"\r\n              });\r\n              setTimeout(() => {\r\n                window.location.reload();\r\n              }, 1000);\r\n            });\r\n          } else {\r\n            this.$message({\r\n              message: \"请先登录\",\r\n              type: \"warning\"\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message.error(res.data.msg);\r\n        });\r\n    },\r\n    //点赞量的请求\r\n    addpv(aid) {\r\n      let userid = localStorage.getItem(\"userid\");\r\n      Postpv(aid, userid)\r\n        .then(res => {\r\n          if (res.data.code) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: res.data.msg,\r\n              type: \"warning\",\r\n              duration: 1000\r\n            });\r\n            setTimeout(() => {\r\n              window.location.reload();\r\n            }, 1000);\r\n          } else {\r\n            this.$message({\r\n              message: res.data.msg,\r\n              type: \"success\",\r\n              duration: 1000\r\n            });\r\n            setTimeout(() => {\r\n              window.location.reload();\r\n            }, 1000);\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  },\r\n  //生命周期 - 创建完成（访问当前this实例）\r\n  created() {},\r\n  //生命周期 - 挂载完成（访问DOM元素）\r\n  mounted() {\r\n    this.getAllarticle();\r\n    window.addEventListener(\"scroll\", this.handelNewScroll);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"scroll\", this.handelNewScroll);\r\n  },\r\n};\r\n</script>\r\n<style  scoped lang=\"less\">\r\n.Forumcontent {\r\n  box-sizing: border-box;\r\n  padding: 0 10px;\r\n  .Topstory-mainColumnCard {\r\n    width: 100%;\r\n    ul > li {\r\n      position: relative;\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      padding: 15px;\r\n      margin-bottom: 10px;\r\n      overflow: hidden;\r\n      background-color: #fff;\r\n      animation: Articlelist 3s;\r\n      .title {\r\n        font-size: 18px;\r\n        width: 430px;\r\n        overflow: hidden;\r\n        font-weight: 600;\r\n        display: block;\r\n        float: left;\r\n        margin-bottom: 20px;\r\n        transition: color 0.4s;\r\n        &:hover {\r\n          color: #6bc30d;\r\n        }\r\n      }\r\n\r\n      .box {\r\n        position: relative;\r\n        .time {\r\n          position: absolute;\r\n          right: 5px;\r\n          color: gray;\r\n        }\r\n        .RichContent {\r\n          position: relative;\r\n          height: 220px;\r\n          .RichContent-cover {\r\n            position: absolute;\r\n            top: 30px;\r\n            left: 0;\r\n            bottom: 0;\r\n            width: 250px;\r\n            height: 100%;\r\n            img {\r\n              width: 250px;\r\n            }\r\n          }\r\n          .RichContent-inner {\r\n            position: absolute;\r\n            top: 30px;\r\n            right: 20px;\r\n            width: 74%;\r\n             display: -webkit-box;\r\n             overflow: hidden;\r\n             line-height: 20px;\r\n             -webkit-box-orient: vertical;\r\n             -webkit-line-clamp: 4;\r\n            a {\r\n              color: #ccc;\r\n              font-size: 16px;\r\n              transition: color 0.3s;\r\n              &:hover {\r\n                color: #6bc30d;\r\n              }\r\n            }\r\n            .RichText {\r\n             margin-left: 20px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .ContentItem-actions {\r\n        margin-top: 30px;\r\n        width: 100%;\r\n        height: 50px;\r\n        font-size: 20px;\r\n        user-select: none;\r\n        span {\r\n          margin-left: 15px;\r\n          cursor: pointer;\r\n          transition: color 0.3s;\r\n          color: #ccc;\r\n          &:hover {\r\n            color: #6bc30d;\r\n          }\r\n        }\r\n        .reding {\r\n          position: absolute;\r\n          right: 40px;\r\n          a {\r\n            transition: color 0.3s;\r\n            font-size: 20px;\r\n            color: #ccc;\r\n            &:hover {\r\n              color: #6bc30d;\r\n            }\r\n          }\r\n        }\r\n        .Ifshow,\r\n        .IfCollshow {\r\n          color: #6bc30d;\r\n        }\r\n      }\r\n    }\r\n    @keyframes Articlelist {\r\n    from {\r\n      opacity: 0;\r\n      transform: scale(0);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: scale(1);\r\n    }\r\n  }\r\n    > .loading {\r\n      width: 100%;\r\n      background-color: #fff;\r\n      text-align: center;\r\n      font-size: 16px;\r\n      div {\r\n        position: relative;\r\n        margin: auto;\r\n        height: 51.5px;\r\n        width: 220px;\r\n        line-height: 51.5px;\r\n      }\r\n      span {\r\n        height: 100%;\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        height: 100%;\r\n      }\r\n      svg {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 5px;\r\n        height: 40px;\r\n        width: 40px;\r\n        animation: loading-rotate 1s linear infinite;\r\n        circle {\r\n          height: 40px;\r\n          width: 40px;\r\n          animation: loading-dash 1.5s ease-in-out infinite;\r\n          stroke-dashoffset: 0;\r\n          stroke-width: 2;\r\n          stroke: #409eff;\r\n          stroke-linecap: round;\r\n        }\r\n      }\r\n    }\r\n    > .no-more {\r\n    width: 100%;\r\n    height: 30px;\r\n    background-color: #fff;\r\n    line-height: 30px;\r\n    text-align: center;\r\n    font-size: 16px;\r\n  }\r\n  }\r\n}\r\n</style>"]}]}