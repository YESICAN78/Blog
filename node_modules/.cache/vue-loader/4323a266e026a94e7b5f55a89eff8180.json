{"remainingRequest":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Canvas.vue?vue&type=style&index=0&id=59422263&scoped=true&lang=css&","dependencies":[{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Canvas.vue","mtime":1603624758003},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2NhbnZhc3sKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyOwp9Cg=="},{"version":3,"sources":["Canvas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA","file":"Canvas.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <canvas id=\"canvas\" height=\"300\"></canvas>\n</template>\n\n<script>\nclass Bubble {\n  constructor (x, y) {\n    this.x = x\n    this.y = y\n    this.vx = Math.random() * 5 - 1.5\n    this.vy = Math.random() * 3 - 1.5\n    this.r = Math.random() * 20 + 3\n    this.dead = false\n    this.color = '#' + Math.random().toString(16).slice(2, 8)\n  }\n  render (ctx) {\n    ctx.beginPath()\n    ctx.fillStyle = this.color\n    ctx.globalCompositeOperation = 'lighter'\n    ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2)\n    ctx.fill()\n  }\n  update () {\n    this.r *= 0.96\n    this.x += this.vx\n    this.y += this.vy\n    if (this.r < 0.01) {\n      this.dead = true\n    }\n  }\n}\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      canvas: null,\n      bubbles: [],\n      timer : null,\n      animateState : true\n    }\n  },\n  mounted () {\n    this.init()\n    this.register()\n    this.render()\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n    window.removeEventListener(\"resize\",this.handleResize);\n    this.canvas.removeEventListener('mousemove',this.handleMousemove)\n    this.animateState = false;\n  },\n  watch:{\n    width(){\n      this.canvas.width = this.width || 500\n    }\n    ,height(){\n      this.canvas.height = this.height || 300\n    }\n  },\n  methods: {\n    init () {\n      this.canvas = document.querySelector('#canvas')\n      this.ctx = this.canvas.getContext('2d')\n      this.canvas.width = document.documentElement.offsetWidth;\n      this.canvas.height = 800;\n      this.auto()\n    },\n    auto(){\n      clearInterval(this.timer);\n      this.timer = setInterval(()=>{\n        this.bubbles.push(new Bubble(this.canvas.width * Math.random(), this.canvas.height * Math.random()))\n      },30)\n    },\n    register () {\n      window.addEventListener(\"resize\",this.handleResize);\n      this.canvas.addEventListener('mousemove',this.handleMousemove)\n    },\n    render () {\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n      this.bubbles.forEach(bubble => {\n        bubble.render(this.ctx)\n        bubble.update()\n      })\n      this.bubbles = this.bubbles.filter(bubble => {\n        return !bubble.dead\n      })\n      this.animateState && requestAnimationFrame(() => this.render())\n    },\n    handleResize(){\n      this.canvas.width = document.documentElement.offsetWidth;\n    },\n    handleMousemove(e){\n      this.bubbles.push(new Bubble(e.offsetX, e.offsetY))\n    }\n  }\n}\n</script>\n<style scoped>\n  #canvas{\n    background-color: #222;\n  }\n</style>\n"]}]}