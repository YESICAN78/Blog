{"remainingRequest":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\views\\Message\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\views\\Message\\index.vue","mtime":1586791798421},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8v5a+85YWl5o6l5Y+jCmltcG9ydCByZXF1ZXN0IGZyb20gIi4uLy4uL2FwaSI7CmNvbnN0IHBvc3RpZkxvZ2luID0gcmVxdWVzdC5wb3N0aWZMb2dpbjsKY29uc3QgQ29tbWl0TWFzc2FnZSA9IHJlcXVlc3QuQ29tbWl0TWFzc2FnZTsKY29uc3QgZ2V0TWFzc2FnZVNob3cgPSByZXF1ZXN0LmdldE1hc3NhZ2VTaG93Owpjb25zdCBSZXBseW1lc3NhZ2UgPSByZXF1ZXN0LlJlcGx5bWVzc2FnZTsKLy/mqKHmnb/nmoTlr7zlhaUKaW1wb3J0IE5hdiBmcm9tICIuLi8uLi9jb21wb25lbnRzL05hdiI7CmltcG9ydCBSaWNoVGV4dCBmcm9tICIuLi8uLi9jb21wb25lbnRzL1JpY2hUZXh0IjsKaW1wb3J0IEZvb3RlciBmcm9tICIuLi8uLi9jb21wb25lbnRzL0Zvb3RlckJhciI7CgpmdW5jdGlvbiB0b1RvdyhudW0pIHsKCXJldHVybiAobnVtIDwgMTAgPyAiMCIgOiAiIikgKyBudW07Cn0KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJMaW5rIiwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJaWZsb2FkaW5nOiBmYWxzZSwKCQkJaWZub21vcmU6IGZhbHNlLAoJCQljb21tZW50TGlzdDogW10sCgkJCS8v6ZmQ5Yi25Yqg6L2955qE55WZ6KiA5p2h5pWwCgkJCXNraXA6IDAsCgkJCWxpbWl0OiAwCgkJCS8vIGNvbW1lbnRMaXN0OiBbCgkJCS8vICAgewoJCQkvLyAgICAgcmVwbHk6IHsKCQkJLy8gICAgICAgdXNlcjogIiIsIC8vaWQo6LCB5Zue5aSN5oiRKQoJCQkvLyAgICAgICBjb250ZW50OiAiIiwgLy/lm57lpI3nmoTnsbvlrrkKCQkJLy8gICAgICAgc3Vic2V0dXNlcjogIiIsCgkJCS8vICAgICAgIGRhdGU6ICIiLAoJCQkvLyAgICAgICBpZlNob3c6IGZhbHNlLCAvL+aYr+WQpuaYvuekuuWbnuWkjeahhgoJCQkvLyAgICAgICBsYXN0SWRleEFycjogW10gLy/kv53lrZjnjrDlnKjnmoTngrnlh7vnmoTniLbnuqflkozlrZDpm4bnmoTovpPlhaXmoYYKCQkJLy8gICAgIH0sCgkJCS8vICAgICBfaWQ6ICIxMSIsCgkJCS8vICAgICB1c2VyOiB7CgkJCS8vICAgICAgIF9pZDogIjE1MTUiLAoJCQkvLyAgICAgICB1c2VyOiAi5bCP5a6d5a6dIiwKCQkJLy8gICAgICAgcGhvdG86ICJodHRwOi8vbG9jYWxob3N0Ojg5ODkvaW1ncy9waG90by5qcGciCgkJCS8vICAgICB9LAoJCQkvLyAgICAgY29udGVudDogIjxwPjEyPC9wPjxwPjEyPC9wPjxwPjEyPC9wPiIsCgkJCS8vICAgICBkYXRlOiBuZXcgRGF0ZSgpICsgIiIsCgkJCS8vICAgICBjaGlsZHJlbjogWwoJCQkvLyAgICAgICB7CgkJCS8vICAgICAgICAgdXNlcjogewoJCQkvLyAgICAgICAgICAgX2lkOiAiNDU2OSIsCgkJCS8vICAgICAgICAgICB1c2VyOiAi6LS+6LSkIiwKCQkJLy8gICAgICAgICAgIHBob3RvOiAiaHR0cDovL2xvY2FsaG9zdDo4OTg5L2ltZ3MvcGhvdG8uanBnIgoJCQkvLyAgICAgICAgIH0sCgkJCS8vICAgICAgICAgY29udGVudDogIuS9oOi3n+aIkeaDs+WIsOS6huS4gOS4quWcsOaWueWTiOWTiCIsCgkJCS8vICAgICAgICAgZGF0ZTogbmV3IERhdGUoKSArICIiLAoJCQkvLyAgICAgICAgIHN1YnNldHVzZXI6ICLlsI/lrp3lrp0iCgkJCS8vICAgICAgIH0sCgkJCS8vICAgICAgIHsKCQkJLy8gICAgICAgICB1c2VyOiB7CgkJCS8vICAgICAgICAgICBfaWQ6ICI3ODk1IiwKCQkJLy8gICAgICAgICAgIHVzZXI6ICLlgrvpgLwiLAoJCQkvLyAgICAgICAgICAgcGhvdG86ICJodHRwOi8vbG9jYWxob3N0Ojg5ODkvaW1ncy9waG90by5qcGciCgkJCS8vICAgICAgICAgfSwKCQkJLy8gICAgICAgICBjb250ZW50OiAi5L2g6Lef5oiR5oOz5Yiw5LqG5LiA5Liq5Zyw5pa55ZOI5ZOIIiwKCQkJLy8gICAgICAgICBzdWJzZXR1c2VyOiAi6LS+6LSkIiwKCQkJLy8gICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpICsgIiIKCQkJLy8gICAgICAgfQoJCQkvLyAgICAgXQoJCQkvLyAgIH0sCgkJCS8vICAgewoJCQkvLyAgICAgcmVwbHk6IHsKCQkJLy8gICAgICAgdXNlcjogIiIsIC8vaWQo6LCB5Zue5aSN5oiRKQoJCQkvLyAgICAgICBjb250ZW50OiAiIiwgLy/lm57lpI3nmoTnsbvlrrkKCQkJLy8gICAgICAgc3Vic2V0dXNlcjogIiIsCgkJCS8vICAgICAgIGRhdGU6ICIiLAoJCQkvLyAgICAgICBpZlNob3c6IGZhbHNlLCAvL+aYr+WQpuaYvuekuuWbnuWkjeahhgoJCQkvLyAgICAgICBsYXN0SWRleEFycjogW10gLy/kv53lrZjnjrDlnKjnmoTngrnlh7vnmoTniLbnuqflkozlrZDpm4bnmoTovpPlhaXmoYYKCQkJLy8gICAgIH0sCgkJCS8vICAgICBfaWQ6ICIxMiIsCgkJCS8vICAgICB1c2VyOiB7CgkJCS8vICAgICAgIF9pZDogIjE1MTUiLAoJCQkvLyAgICAgICB1c2VyOiAi5bCP5a6d5a6dIiwKCQkJLy8gICAgICAgcGhvdG86ICJodHRwOi8vbG9jYWxob3N0Ojg5ODkvaW1ncy9waG90by5qcGciCgkJCS8vICAgICB9LAoJCQkvLyAgICAgY29udGVudDogIjxwPjEyPC9wPjxwPjEyPC9wPjxwPjEyPC9wPiIsCgkJCS8vICAgICBkYXRlOiBuZXcgRGF0ZSgpICsgIiIsCgkJCS8vICAgICBjaGlsZHJlbjogWwoJCQkvLyAgICAgICB7CgkJCS8vICAgICAgICAgdXNlcjogewoJCQkvLyAgICAgICAgICAgX2lkOiAiNDU2OSIsCgkJCS8vICAgICAgICAgICB1c2VyOiAi6LS+6LSkIiwKCQkJLy8gICAgICAgICAgIHBob3RvOiAiaHR0cDovL2xvY2FsaG9zdDo4OTg5L2ltZ3MvcGhvdG8uanBnIgoJCQkvLyAgICAgICAgIH0sCgkJCS8vICAgICAgICAgY29udGVudDogIuS9oOi3n+aIkeaDs+WIsOS6huS4gOS4quWcsOaWueWTiOWTiCIsCgkJCS8vICAgICAgICAgZGF0ZTogbmV3IERhdGUoKSArICIiLAoJCQkvLyAgICAgICAgIHN1YnNldHVzZXI6ICLlsI/lrp3lrp0iCgkJCS8vICAgICAgIH0sCgkJCS8vICAgICAgIHsKCQkJLy8gICAgICAgICB1c2VyOiB7CgkJCS8vICAgICAgICAgICBfaWQ6ICI3ODk1IiwKCQkJLy8gICAgICAgICAgIHVzZXI6ICLlgrvpgLwiLAoJCQkvLyAgICAgICAgICAgcGhvdG86ICJodHRwOi8vbG9jYWxob3N0Ojg5ODkvaW1ncy9waG90by5qcGciCgkJCS8vICAgICAgICAgfSwKCQkJLy8gICAgICAgICBjb250ZW50OiAi5L2g6Lef5oiR5oOz5Yiw5LqG5LiA5Liq5Zyw5pa55ZOI5ZOIIiwKCQkJLy8gICAgICAgICBzdWJzZXR1c2VyOiAi6LS+6LSkIiwKCQkJLy8gICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpICsgIiIKCQkJLy8gICAgICAgfQoJCQkvLyAgICAgXQoJCQkvLyAgIH0sCgkJCS8vICAgewoJCQkvLyAgICAgcmVwbHk6IHsKCQkJLy8gICAgICAgdXNlcjogIiIsIC8vaWQo6LCB5Zue5aSN5oiRKQoJCQkvLyAgICAgICBjb250ZW50OiAiIiwgLy/lm57lpI3nmoTnsbvlrrkKCQkJLy8gICAgICAgc3Vic2V0dXNlcjogIiIsCgkJCS8vICAgICAgIGRhdGU6ICIiLAoJCQkvLyAgICAgICBpZlNob3c6IGZhbHNlLCAvL+aYr+WQpuaYvuekuuWbnuWkjeahhgoJCQkvLyAgICAgICBsYXN0SWRleEFycjogW10gLy/kv53lrZjnjrDlnKjnmoTngrnlh7vnmoTniLbnuqflkozlrZDpm4bnmoTovpPlhaXmoYYKCQkJLy8gICAgIH0sCgkJCS8vICAgICBfaWQ6ICIxMyIsCgkJCS8vICAgICB1c2VyOiB7CgkJCS8vICAgICAgIF9pZDogIjE1MTUiLAoJCQkvLyAgICAgICB1c2VyOiAi5bCP5a6d5a6dIiwKCQkJLy8gICAgICAgcGhvdG86ICJodHRwOi8vbG9jYWxob3N0Ojg5ODkvaW1ncy9waG90by5qcGciCgkJCS8vICAgICB9LAoJCQkvLyAgICAgY29udGVudDogIjxwPjEyPC9wPjxwPjEyPC9wPjxwPjEyPC9wPiIsCgkJCS8vICAgICBkYXRlOiBuZXcgRGF0ZSgpICsgIiIsCgkJCS8vICAgICBjaGlsZHJlbjogWwoJCQkvLyAgICAgICB7CgkJCS8vICAgICAgICAgdXNlcjogewoJCQkvLyAgICAgICAgICAgX2lkOiAiNDU2OSIsCgkJCS8vICAgICAgICAgICB1c2VyOiAi6LS+6LSkIiwKCQkJLy8gICAgICAgICAgIHBob3RvOiAiaHR0cDovL2xvY2FsaG9zdDo4OTg5L2ltZ3MvcGhvdG8uanBnIgoJCQkvLyAgICAgICAgIH0sCgkJCS8vICAgICAgICAgY29udGVudDogIuS9oOi3n+aIkeaDs+WIsOS6huS4gOS4quWcsOaWueWTiOWTiCIsCgkJCS8vICAgICAgICAgZGF0ZTogbmV3IERhdGUoKSArICIiLAoJCQkvLyAgICAgICAgIHN1YnNldHVzZXI6ICLlsI/lrp3lrp0iCgkJCS8vICAgICAgIH0sCgkJCS8vICAgICAgIHsKCQkJLy8gICAgICAgICB1c2VyOiB7CgkJCS8vICAgICAgICAgICBfaWQ6ICI3ODk1IiwKCQkJLy8gICAgICAgICAgIHVzZXI6ICLlgrvpgLwiLAoJCQkvLyAgICAgICAgICAgcGhvdG86ICJodHRwOi8vbG9jYWxob3N0Ojg5ODkvaW1ncy9waG90by5qcGciCgkJCS8vICAgICAgICAgfSwKCQkJLy8gICAgICAgICBjb250ZW50OiAi5L2g6Lef5oiR5oOz5Yiw5LqG5LiA5Liq5Zyw5pa55ZOI5ZOIIiwKCQkJLy8gICAgICAgICBzdWJzZXR1c2VyOiAi6LS+6LSkIiwKCQkJLy8gICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpICsgIiIKCQkJLy8gICAgICAgfQoJCQkvLyAgICAgXQoJCQkvLyAgIH0KCQkJLy8gXQoJCX07Cgl9LAoJY29tcHV0ZWQ6IHsKCQkKCX0sCglmaWx0ZXJzOiB7CgkJZ2V0VGltZSh2YWwpIHsKCQkJbGV0IGRhdGUgPSBuZXcgRGF0ZSh2YWwpOwoJCQlsZXQgWVkgPSB0b1RvdyhkYXRlLmdldEZ1bGxZZWFyKCkpLAoJCQkJTU0gPSB0b1RvdyhkYXRlLmdldE1vbnRoKCkgKyAxKSwKCQkJCUREID0gdG9Ub3coZGF0ZS5nZXREYXRlKCkpLAoJCQkJSCA9IHRvVG93KGRhdGUuZ2V0SG91cnMoKSksCgkJCQlNID0gdG9Ub3coZGF0ZS5nZXRNaW51dGVzKCkpLAoJCQkJUyA9IHRvVG93KGRhdGUuZ2V0U2Vjb25kcygpKTsKCQkJcmV0dXJuIGAke1lZfeW5tCR7TU195pyIJHtERH3ml6Uke0h9OiR7TX06JHtTfWA7CgkJfQoJfSwKCW1ldGhvZHM6IHsKCQkvL+aPkOS6pOeVmeiogOeahOWHveaVsAoJCWhhbmRlbFN1Ym1pdCh2YWwpIHsKCQkJLy/liKTmlq3nlKjmiLfmmK/lkKbnmbvlvZUKCQkJcG9zdGlmTG9naW4oKQoJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQlpZiAocmVzLmRhdGEudXNlckluZm8pIHsKCQkJCQkJLy/nmbvpmYbkuobvvIzlsLHlj5HpgIHmlbDmja7liLDmlbDmja7lupMgLS0g5omn6KGM55WZ6KiA5o+Q5Lqk55qEYWpheAoJCQkJCQlDb21taXRNYXNzYWdlKHsKCQkJCQkJCXVzZXI6IHJlcy5kYXRhLnVzZXJJbmZvLl9pZCwKCQkJCQkJCWNvbnRlbnQ6IHZhbAoJCQkJCQl9KS50aGVuKHJlcyA9PiB7CgkJCQkJCQlpZiAocmVzLmRhdGEuY29kZSkgewoJCQkJCQkJCWxheWVyLm1zZyhyZXMuZGF0YS5tc2csIHsKCQkJCQkJCQkJaWNvbjogNSwKCQkJCQkJCQkJYW5pbTogNgoJCQkJCQkJCX0pOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQlsYXllci5tc2cocmVzLmRhdGEubXNnLCB7CgkJCQkJCQkJCWljb246IDYKCQkJCQkJCQl9KTsKCQkJCQkJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQkJCQkJd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwoJCQkJCQkJCX0sIDEwMDApOwoJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCQl9IGVsc2UgewoJCQkJCQlsYXllci5tc2coIuivt+WFiOeZu+W9leWcqOeVmeiogPCfmJgiLCB7CgkJCQkJCQlpY29uOiA1LAoJCQkJCQkJYW5pbTogNgoJCQkJCQl9KTsKCQkJCQl9CgkJCQl9KQoJCQkJLmNhdGNoKCgpID0+IHsKCQkJCQkvL+acjeWKoeWHuumUmQoJCQkJCWxheWVyLm1zZygi5pyN5Yqh5Zmo6ZSZ6K+v77yM56iN5ZCO5YaN6K+V4p2kIiwgewoJCQkJCQlpY29uOiAyLAoJCQkJCQlhbmltOiA2CgkJCQkJfSk7CgkJCQl9KTsKCQl9LAoJCS8v54K55Ye754i257qn6K+E6K6655qE5Zue5aSN5Ye95pWwCgkJcmVwbHlDbGljayhQaW5kZXgsIENpbmRleCkgewoJCQlpZiAoUGluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjsKCQkJLy/mi7/liLDniLbnuqfor4TorroKCQkJbGV0IHBhcmVudERhdGEgPSB0aGlzLmNvbW1lbnRMaXN0W1BpbmRleF07CgkJCWlmIChDaW5kZXggPT09IHVuZGVmaW5lZCkgewoJCQkJLy/niLblm57lpI0KCQkJCXRoaXMuY29tbWVudExpc3RbUGluZGV4XS5yZXBseS5zdWJzZXR1c2VyID0gdGhpcy5jb21tZW50TGlzdFsKCQkJCQlQaW5kZXgKCQkJCV0udXNlci51c2VyOwoJCQl9IGVsc2UgewoJCQkJLy/lrZDlm57lpI0KCQkJCXRoaXMuY29tbWVudExpc3RbUGluZGV4XS5yZXBseS5zdWJzZXR1c2VyID0gdGhpcy5jb21tZW50TGlzdFsKCQkJCQlQaW5kZXgKCQkJCV0uY2hpbGRyZW5bQ2luZGV4XS51c2VyLnVzZXI7CgkJCX0KCgkJCWlmICgKCQkJCVBpbmRleCA9PT0gcGFyZW50RGF0YS5yZXBseS5sYXN0SWRleEFyclswXSAmJgoJCQkJQ2luZGV4ID09PSBwYXJlbnREYXRhLnJlcGx5Lmxhc3RJZGV4QXJyWzFdCgkJCSkgewoJCQkJcGFyZW50RGF0YS5yZXBseS5pZlNob3cgPSBmYWxzZTsKCQkJCXBhcmVudERhdGEucmVwbHkubGFzdElkZXhBcnIgPSBbXTsKCQkJfSBlbHNlIHsKCQkJCXBhcmVudERhdGEucmVwbHkuaWZTaG93ID0gdHJ1ZTsKCQkJCXBhcmVudERhdGEucmVwbHkubGFzdElkZXhBcnIgPSBbUGluZGV4LCBDaW5kZXhdOwoJCQl9CgkJfSwKCQkvL+aPkOS6pOeVmeiogOeahOeVmeiogOWHveaVsAoJCWNvbW1pdGNoaWxkbWFzc2FnZShQaW5kZXgpIHsKCQkJLy/liKTmlq3lrZDnlZnoqIDnlKjmiLfmmK/lkKbnmbvlvZUKCQkJcG9zdGlmTG9naW4oKQoJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQlpZiAocmVzLmRhdGEudXNlckluZm8pIHsKCQkJCQkJLy/or6XnlKjmiLflt7Lnu4/nmbvlvZXkuoYKCQkJCQkJUmVwbHltZXNzYWdlKHsKCQkJCQkJCXBhcmVudElkOiB0aGlzLmNvbW1lbnRMaXN0W1BpbmRleF0uX2lkLAoJCQkJCQkJdXNlcjogcmVzLmRhdGEudXNlckluZm8uX2lkLAoJCQkJCQkJY29udGVudDogdGhpcy5jb21tZW50TGlzdFtQaW5kZXhdLnJlcGx5LmNvbnRlbnQsCgkJCQkJCQlzdWJzZXR1c2VyOiB0aGlzLmNvbW1lbnRMaXN0W1BpbmRleF0ucmVwbHkuc3Vic2V0dXNlcgoJCQkJCQl9KS50aGVuKHJlcyA9PiB7CgkJCQkJCQlpZiAocmVzLmRhdGEuY29kZSkgewoJCQkJCQkJCWxheWVyLm1zZyhyZXMuZGF0YS5tc2csIHsKCQkJCQkJCQkJaWNvbjogNSwKCQkJCQkJCQkJYW5pbTogNgoJCQkJCQkJCX0pOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQlsYXllci5tc2cocmVzLmRhdGEubXNnLCB7CgkJCQkJCQkJCWljb246IDYKCQkJCQkJCQl9KTsKCQkJCQkJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCQkJCQkJd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwoJCQkJCQkJCX0sIDEwMCk7CgkJCQkJCQl9CgkJCQkJCX0pOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8v5rKh5pyJ55m75b2VCgkJCQkJCWxheWVyLm1zZygi6K+35YWI55m75b2V5Zyo6K+E6K668J+YmCIsIHsKCQkJCQkJCWljb246IDUsCgkJCQkJCQlhbmltOiA2CgkJCQkJCX0pOwoJCQkJCX0KCQkJCX0pCgkJCQkuY2F0Y2goZSA9PiB7CgkJCQkJLy/mnI3liqHlh7rplJkKCQkJCQlsYXllci5tc2coIuacjeWKoeWZqOmUmeivr37or7fnqI3lkI7lho3or5UiLCB7CgkJCQkJCWljb246IDIKCQkJCQl9KTsKCQkJCX0pOwoJCX0sCgkJLy/nm5HlkKzmu5rliqjmnaHliqDovb3mlrDnmoTnlZnoqIAKCQloYW5kZWxOZXdTY3JvbGwoKSB7CgkJCS8v5aaC5p6c5Ye6546w5Yqg6L295ZKM5oiR5piv5pyJ5bqV57q/55qEIOWwseS4jea7muWKqOS6hgoJCQlpZiAodGhpcy5pZmxvYWRpbmcgJiYgdGhpcy5pZm5vbW9yZSkgcmV0dXJuOwoJCQkvL+a1j+iniOWZqOeahOaAu+mrmAoJCQlsZXQgYSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7CgkJCS8v5Y+v6KeG5Yy65Z+f55qE6auY5bqmCgkJCWxldCBiID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKCQkJLy/mu5rliqjpq5gKCQkJbGV0IGMgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKCQkJaWYgKGIgKyBjID4gYSAtIDMwMCkgewoJCQkJdGhpcy5nZXRNYXNzYWdlTGlzdCgoKSA9PiB7CgkJCQkJZ2V0TWFzc2FnZVNob3codGhpcy5za2lwLCB0aGlzLmxpbWl0KS50aGVuKHJlcyA9PiB7CgkJCQkJCWlmIChyZXMuZGF0YS5kYXRhLmxlbmd0aCkgewoJCQkJCQkJc2V0VGltZW91dCgoKT0+ewoJCQkJCQkJCXRoaXMuaWZub21vcmUgPSB0cnVlOwoJCQkJCQkJfSwyMDAwKQoJCQkJCQl9IGVsc2UgewoJCQkJCQkJdGhpcy5pZmxvYWRpbmcgPSB0cnVlOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9KTsKCQkJfQoJCX0sCgkJLy/ojrflj5bnlZnoqIDlh73mlbAKCQlnZXRNYXNzYWdlTGlzdChjYikgewoJCQl0aGlzLmxpbWl0ICs9IDM7CgkJCWdldE1hc3NhZ2VTaG93KHRoaXMuc2tpcCwgdGhpcy5saW1pdCkKCQkJCS50aGVuKHJlcyA9PiB7CgkJCQkJbGV0IGRhdGEgPSByZXMuZGF0YS5kYXRhOwoJCQkJCWlmIChyZXMuZGF0YS5jb2RlID09PSAwKSB7CgkJCQkJCWRhdGEuZm9yRWFjaChpdGVtID0+IHsKCQkJCQkJCWl0ZW0ucmVwbHkgPSB7CgkJCQkJCQkJdXNlcjogIiIsIC8vaWQo6LCB5Zue5aSN5oiRKQoJCQkJCQkJCWNvbnRlbnQ6ICIiLCAvL+WbnuWkjeeahOexu+WuuQoJCQkJCQkJCXN1YnNldHVzZXI6ICIiLAoJCQkJCQkJCWRhdGU6ICIiLAoJCQkJCQkJCWlmU2hvdzogZmFsc2UsIC8v5piv5ZCm5pi+56S65Zue5aSN5qGGCgkJCQkJCQkJbGFzdElkZXhBcnI6IFtdIC8v5L+d5a2Y546w5Zyo55qE54K55Ye755qE54i257qn5ZKM5a2Q6ZuG55qE6L6T5YWl5qGGCgkJCQkJCQl9OwoJCQkJCQl9KTsKCQkJCQkJdGhpcy5jb21tZW50TGlzdD1kYXRhOwoJCQkJCX0KCQkJCQljYiAmJiBjYigpOwoJCQkJfSkKCQkJCS5jYXRjaChlID0+IHsKCQkJCQljYiAmJiBjYigpOwoJCQkJfSk7CgkJfQoJfSwKCWNvbXBvbmVudHM6IHsKCQlOYXYsCgkJUmljaFRleHQsCgkJRm9vdGVyCgl9LAoKCS8v55Sf5ZG95ZGo5pyfIC0g5Yib5bu65a6M5oiQ77yI6K6/6Zeu5b2T5YmNdGhpc+WunuS+i++8iQoJY3JlYXRlZCgpIHsKCQl0aGlzLmdldE1hc3NhZ2VMaXN0KCk7Cgl9LAoJLy/nlJ/lkb3lkajmnJ8gLSDmjILovb3lrozmiJDvvIjorr/pl65ET03lhYPntKDvvIkKCW1vdW50ZWQoKSB7CgkJZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7CgkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMuaGFuZGVsTmV3U2Nyb2xsKTsKCX0sCglkZXN0cm95ZWQoKSB7CgkJd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMuaGFuZGVsTmV3U2Nyb2xsKTsKCX0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Message","sourcesContent":["<!-- 博客页面 -->\r\n<template>\r\n\t<div class=\"Message\">\r\n\t\t<Nav></Nav>\r\n\t\t<div class=\"Msg-container\">\r\n\t\t\t<div class=\"container-fixed\">\r\n\t\t\t\t<div class=\"container-inner\">\r\n\t\t\t\t\t<div class=\"msg-title\">\r\n\t\t\t\t\t\t<h1>留言板</h1>\r\n\t\t\t\t\t\t<p>文明交流，拉近你我</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<RichText @Submit=\"handelSubmit\"></RichText>\r\n\t\t\t\t</div>\r\n\t\t\t\t<section class=\"user-message\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li v-for=\"(item,index) in commentList\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t<div class=\"comment-parent\">\r\n\t\t\t\t\t\t\t\t<div class=\"p-img\" :style=\"{backgroundImage:'url('+item.user.photo +')'}\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"p-info\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"p-name\">{{item.user.user}}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"p-comtent\" v-html=\" item.content\"></div>\r\n\t\t\t\t\t\t\t\t\t<p class=\"p-time\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-location-information\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<span>云南省昆明市</span>\r\n\t\t\t\t\t\t\t\t\t\t<span>{{item.date | getTime}}</span>\r\n\t\t\t\t\t\t\t\t\t\t<a @click=\"replyClick(index)\">{{item.reply.lastIdexArr[0]===index && item.reply.lastIdexArr[1]===undefined ? '收起' : '回复'}}</a>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<div class=\"comment-child\" v-for=\"(children,childrenindex) in item.children\" :key=\"children.childrenindex\">\r\n\t\t\t\t\t\t\t\t<div class=\"c-img\" :style=\"{backgroundImage:'url('+children.user.photo +')'}\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"c-info\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"c-name\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"name\">{{children.user.user}}</span>回复\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"name\">{{children.subsetuser}}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"content\">{{children.content}}</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"c-time\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"el-icon-location-information\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<span>四川省成都市</span>\r\n\t\t\t\t\t\t\t\t\t\t<span>{{item.date | getTime}}</span>\r\n\t\t\t\t\t\t\t\t\t\t<a @click=\"replyClick(index,childrenindex)\">{{item.reply.lastIdexArr[0]===index && item.reply.lastIdexArr[1] === childrenindex ? '收起' : '回复'}}</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"replycontainer\">\r\n\t\t\t\t\t\t\t\t<div :class=\"['textbox',{'showbox':item.reply.ifShow}]\">\r\n\t\t\t\t\t\t\t\t\t<textarea v-model=\"item.reply.content\" class=\"input\" id=\"demo\" :placeholder=\"'回复【'+item.reply.subsetuser+'】:'\"></textarea>\r\n\t\t\t\t\t\t\t\t\t<button @click=\"commitchildmassage(index)\" size=\"mini\" type=\"button\" class=\"layui-btn layui-btn-xs\">提交留言</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<div v-if=\"ifloading\" class=\"loading\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span>加载中请稍等....</span>\r\n\t\t\t\t\t\t\t\t<svg viewBox=\"25 25 50 50\" class=\"circular\">\r\n\t\t\t\t\t\t\t\t\t<circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" class=\"path\" />\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p v-if=\"ifnomore\" class=\"no-more\">我也是有底线的哦🤷‍♀️</p>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<Footer></Footer>\r\n\t</div>\r\n</template>\r\n<script>\r\n\t//导入接口\r\n\timport request from \"../../api\";\r\n\tconst postifLogin = request.postifLogin;\r\n\tconst CommitMassage = request.CommitMassage;\r\n\tconst getMassageShow = request.getMassageShow;\r\n\tconst Replymessage = request.Replymessage;\r\n\t//模板的导入\r\n\timport Nav from \"../../components/Nav\";\r\n\timport RichText from \"../../components/RichText\";\r\n\timport Footer from \"../../components/FooterBar\";\r\n\r\n\tfunction toTow(num) {\r\n\t\treturn (num < 10 ? \"0\" : \"\") + num;\r\n\t}\r\n\r\n\texport default {\r\n\t\tname: \"Link\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tifloading: false,\r\n\t\t\t\tifnomore: false,\r\n\t\t\t\tcommentList: [],\r\n\t\t\t\t//限制加载的留言条数\r\n\t\t\t\tskip: 0,\r\n\t\t\t\tlimit: 0\r\n\t\t\t\t// commentList: [\r\n\t\t\t\t//   {\r\n\t\t\t\t//     reply: {\r\n\t\t\t\t//       user: \"\", //id(谁回复我)\r\n\t\t\t\t//       content: \"\", //回复的类容\r\n\t\t\t\t//       subsetuser: \"\",\r\n\t\t\t\t//       date: \"\",\r\n\t\t\t\t//       ifShow: false, //是否显示回复框\r\n\t\t\t\t//       lastIdexArr: [] //保存现在的点击的父级和子集的输入框\r\n\t\t\t\t//     },\r\n\t\t\t\t//     _id: \"11\",\r\n\t\t\t\t//     user: {\r\n\t\t\t\t//       _id: \"1515\",\r\n\t\t\t\t//       user: \"小宝宝\",\r\n\t\t\t\t//       photo: \"http://localhost:8989/imgs/photo.jpg\"\r\n\t\t\t\t//     },\r\n\t\t\t\t//     content: \"<p>12</p><p>12</p><p>12</p>\",\r\n\t\t\t\t//     date: new Date() + \"\",\r\n\t\t\t\t//     children: [\r\n\t\t\t\t//       {\r\n\t\t\t\t//         user: {\r\n\t\t\t\t//           _id: \"4569\",\r\n\t\t\t\t//           user: \"贾贤\",\r\n\t\t\t\t//           photo: \"http://localhost:8989/imgs/photo.jpg\"\r\n\t\t\t\t//         },\r\n\t\t\t\t//         content: \"你跟我想到了一个地方哈哈\",\r\n\t\t\t\t//         date: new Date() + \"\",\r\n\t\t\t\t//         subsetuser: \"小宝宝\"\r\n\t\t\t\t//       },\r\n\t\t\t\t//       {\r\n\t\t\t\t//         user: {\r\n\t\t\t\t//           _id: \"7895\",\r\n\t\t\t\t//           user: \"傻逼\",\r\n\t\t\t\t//           photo: \"http://localhost:8989/imgs/photo.jpg\"\r\n\t\t\t\t//         },\r\n\t\t\t\t//         content: \"你跟我想到了一个地方哈哈\",\r\n\t\t\t\t//         subsetuser: \"贾贤\",\r\n\t\t\t\t//         date: new Date() + \"\"\r\n\t\t\t\t//       }\r\n\t\t\t\t//     ]\r\n\t\t\t\t//   },\r\n\t\t\t\t//   {\r\n\t\t\t\t//     reply: {\r\n\t\t\t\t//       user: \"\", //id(谁回复我)\r\n\t\t\t\t//       content: \"\", //回复的类容\r\n\t\t\t\t//       subsetuser: \"\",\r\n\t\t\t\t//       date: \"\",\r\n\t\t\t\t//       ifShow: false, //是否显示回复框\r\n\t\t\t\t//       lastIdexArr: [] //保存现在的点击的父级和子集的输入框\r\n\t\t\t\t//     },\r\n\t\t\t\t//     _id: \"12\",\r\n\t\t\t\t//     user: {\r\n\t\t\t\t//       _id: \"1515\",\r\n\t\t\t\t//       user: \"小宝宝\",\r\n\t\t\t\t//       photo: \"http://localhost:8989/imgs/photo.jpg\"\r\n\t\t\t\t//     },\r\n\t\t\t\t//     content: \"<p>12</p><p>12</p><p>12</p>\",\r\n\t\t\t\t//     date: new Date() + \"\",\r\n\t\t\t\t//     children: [\r\n\t\t\t\t//       {\r\n\t\t\t\t//         user: {\r\n\t\t\t\t//           _id: \"4569\",\r\n\t\t\t\t//           user: \"贾贤\",\r\n\t\t\t\t//           photo: \"http://localhost:8989/imgs/photo.jpg\"\r\n\t\t\t\t//         },\r\n\t\t\t\t//         content: \"你跟我想到了一个地方哈哈\",\r\n\t\t\t\t//         date: new Date() + \"\",\r\n\t\t\t\t//         subsetuser: \"小宝宝\"\r\n\t\t\t\t//       },\r\n\t\t\t\t//       {\r\n\t\t\t\t//         user: {\r\n\t\t\t\t//           _id: \"7895\",\r\n\t\t\t\t//           user: \"傻逼\",\r\n\t\t\t\t//           photo: \"http://localhost:8989/imgs/photo.jpg\"\r\n\t\t\t\t//         },\r\n\t\t\t\t//         content: \"你跟我想到了一个地方哈哈\",\r\n\t\t\t\t//         subsetuser: \"贾贤\",\r\n\t\t\t\t//         date: new Date() + \"\"\r\n\t\t\t\t//       }\r\n\t\t\t\t//     ]\r\n\t\t\t\t//   },\r\n\t\t\t\t//   {\r\n\t\t\t\t//     reply: {\r\n\t\t\t\t//       user: \"\", //id(谁回复我)\r\n\t\t\t\t//       content: \"\", //回复的类容\r\n\t\t\t\t//       subsetuser: \"\",\r\n\t\t\t\t//       date: \"\",\r\n\t\t\t\t//       ifShow: false, //是否显示回复框\r\n\t\t\t\t//       lastIdexArr: [] //保存现在的点击的父级和子集的输入框\r\n\t\t\t\t//     },\r\n\t\t\t\t//     _id: \"13\",\r\n\t\t\t\t//     user: {\r\n\t\t\t\t//       _id: \"1515\",\r\n\t\t\t\t//       user: \"小宝宝\",\r\n\t\t\t\t//       photo: \"http://localhost:8989/imgs/photo.jpg\"\r\n\t\t\t\t//     },\r\n\t\t\t\t//     content: \"<p>12</p><p>12</p><p>12</p>\",\r\n\t\t\t\t//     date: new Date() + \"\",\r\n\t\t\t\t//     children: [\r\n\t\t\t\t//       {\r\n\t\t\t\t//         user: {\r\n\t\t\t\t//           _id: \"4569\",\r\n\t\t\t\t//           user: \"贾贤\",\r\n\t\t\t\t//           photo: \"http://localhost:8989/imgs/photo.jpg\"\r\n\t\t\t\t//         },\r\n\t\t\t\t//         content: \"你跟我想到了一个地方哈哈\",\r\n\t\t\t\t//         date: new Date() + \"\",\r\n\t\t\t\t//         subsetuser: \"小宝宝\"\r\n\t\t\t\t//       },\r\n\t\t\t\t//       {\r\n\t\t\t\t//         user: {\r\n\t\t\t\t//           _id: \"7895\",\r\n\t\t\t\t//           user: \"傻逼\",\r\n\t\t\t\t//           photo: \"http://localhost:8989/imgs/photo.jpg\"\r\n\t\t\t\t//         },\r\n\t\t\t\t//         content: \"你跟我想到了一个地方哈哈\",\r\n\t\t\t\t//         subsetuser: \"贾贤\",\r\n\t\t\t\t//         date: new Date() + \"\"\r\n\t\t\t\t//       }\r\n\t\t\t\t//     ]\r\n\t\t\t\t//   }\r\n\t\t\t\t// ]\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tgetTime(val) {\r\n\t\t\t\tlet date = new Date(val);\r\n\t\t\t\tlet YY = toTow(date.getFullYear()),\r\n\t\t\t\t\tMM = toTow(date.getMonth() + 1),\r\n\t\t\t\t\tDD = toTow(date.getDate()),\r\n\t\t\t\t\tH = toTow(date.getHours()),\r\n\t\t\t\t\tM = toTow(date.getMinutes()),\r\n\t\t\t\t\tS = toTow(date.getSeconds());\r\n\t\t\t\treturn `${YY}年${MM}月${DD}日${H}:${M}:${S}`;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//提交留言的函数\r\n\t\t\thandelSubmit(val) {\r\n\t\t\t\t//判断用户是否登录\r\n\t\t\t\tpostifLogin()\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.data.userInfo) {\r\n\t\t\t\t\t\t\t//登陆了，就发送数据到数据库 -- 执行留言提交的ajax\r\n\t\t\t\t\t\t\tCommitMassage({\r\n\t\t\t\t\t\t\t\tuser: res.data.userInfo._id,\r\n\t\t\t\t\t\t\t\tcontent: val\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tif (res.data.code) {\r\n\t\t\t\t\t\t\t\t\tlayer.msg(res.data.msg, {\r\n\t\t\t\t\t\t\t\t\t\ticon: 5,\r\n\t\t\t\t\t\t\t\t\t\tanim: 6\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tlayer.msg(res.data.msg, {\r\n\t\t\t\t\t\t\t\t\t\ticon: 6\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlayer.msg(\"请先登录在留言😘\", {\r\n\t\t\t\t\t\t\t\ticon: 5,\r\n\t\t\t\t\t\t\t\tanim: 6\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t//服务出错\r\n\t\t\t\t\t\tlayer.msg(\"服务器错误，稍后再试❤\", {\r\n\t\t\t\t\t\t\ticon: 2,\r\n\t\t\t\t\t\t\tanim: 6\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//点击父级评论的回复函数\r\n\t\t\treplyClick(Pindex, Cindex) {\r\n\t\t\t\tif (Pindex === undefined) return;\r\n\t\t\t\t//拿到父级评论\r\n\t\t\t\tlet parentData = this.commentList[Pindex];\r\n\t\t\t\tif (Cindex === undefined) {\r\n\t\t\t\t\t//父回复\r\n\t\t\t\t\tthis.commentList[Pindex].reply.subsetuser = this.commentList[\r\n\t\t\t\t\t\tPindex\r\n\t\t\t\t\t].user.user;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//子回复\r\n\t\t\t\t\tthis.commentList[Pindex].reply.subsetuser = this.commentList[\r\n\t\t\t\t\t\tPindex\r\n\t\t\t\t\t].children[Cindex].user.user;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tPindex === parentData.reply.lastIdexArr[0] &&\r\n\t\t\t\t\tCindex === parentData.reply.lastIdexArr[1]\r\n\t\t\t\t) {\r\n\t\t\t\t\tparentData.reply.ifShow = false;\r\n\t\t\t\t\tparentData.reply.lastIdexArr = [];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparentData.reply.ifShow = true;\r\n\t\t\t\t\tparentData.reply.lastIdexArr = [Pindex, Cindex];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//提交留言的留言函数\r\n\t\t\tcommitchildmassage(Pindex) {\r\n\t\t\t\t//判断子留言用户是否登录\r\n\t\t\t\tpostifLogin()\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.data.userInfo) {\r\n\t\t\t\t\t\t\t//该用户已经登录了\r\n\t\t\t\t\t\t\tReplymessage({\r\n\t\t\t\t\t\t\t\tparentId: this.commentList[Pindex]._id,\r\n\t\t\t\t\t\t\t\tuser: res.data.userInfo._id,\r\n\t\t\t\t\t\t\t\tcontent: this.commentList[Pindex].reply.content,\r\n\t\t\t\t\t\t\t\tsubsetuser: this.commentList[Pindex].reply.subsetuser\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tif (res.data.code) {\r\n\t\t\t\t\t\t\t\t\tlayer.msg(res.data.msg, {\r\n\t\t\t\t\t\t\t\t\t\ticon: 5,\r\n\t\t\t\t\t\t\t\t\t\tanim: 6\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tlayer.msg(res.data.msg, {\r\n\t\t\t\t\t\t\t\t\t\ticon: 6\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//没有登录\r\n\t\t\t\t\t\t\tlayer.msg(\"请先登录在评论😘\", {\r\n\t\t\t\t\t\t\t\ticon: 5,\r\n\t\t\t\t\t\t\t\tanim: 6\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\t//服务出错\r\n\t\t\t\t\t\tlayer.msg(\"服务器错误~请稍后再试\", {\r\n\t\t\t\t\t\t\ticon: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//监听滚动条加载新的留言\r\n\t\t\thandelNewScroll() {\r\n\t\t\t\t//如果出现加载和我是有底线的 就不滚动了\r\n\t\t\t\tif (this.ifloading && this.ifnomore) return;\r\n\t\t\t\t//浏览器的总高\r\n\t\t\t\tlet a = document.documentElement.offsetHeight;\r\n\t\t\t\t//可视区域的高度\r\n\t\t\t\tlet b = document.documentElement.clientHeight;\r\n\t\t\t\t//滚动高\r\n\t\t\t\tlet c = document.documentElement.scrollTop;\r\n\r\n\t\t\t\tif (b + c > a - 300) {\r\n\t\t\t\t\tthis.getMassageList(() => {\r\n\t\t\t\t\t\tgetMassageShow(this.skip, this.limit).then(res => {\r\n\t\t\t\t\t\t\tif (res.data.data.length) {\r\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\tthis.ifnomore = true;\r\n\t\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.ifloading = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取留言函数\r\n\t\t\tgetMassageList(cb) {\r\n\t\t\t\tthis.limit += 3;\r\n\t\t\t\tgetMassageShow(this.skip, this.limit)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t\t\tif (res.data.code === 0) {\r\n\t\t\t\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\t\t\t\titem.reply = {\r\n\t\t\t\t\t\t\t\t\tuser: \"\", //id(谁回复我)\r\n\t\t\t\t\t\t\t\t\tcontent: \"\", //回复的类容\r\n\t\t\t\t\t\t\t\t\tsubsetuser: \"\",\r\n\t\t\t\t\t\t\t\t\tdate: \"\",\r\n\t\t\t\t\t\t\t\t\tifShow: false, //是否显示回复框\r\n\t\t\t\t\t\t\t\t\tlastIdexArr: [] //保存现在的点击的父级和子集的输入框\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.commentList=data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcb && cb();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tcb && cb();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tNav,\r\n\t\t\tRichText,\r\n\t\t\tFooter\r\n\t\t},\r\n\r\n\t\t//生命周期 - 创建完成（访问当前this实例）\r\n\t\tcreated() {\r\n\t\t\tthis.getMassageList();\r\n\t\t},\r\n\t\t//生命周期 - 挂载完成（访问DOM元素）\r\n\t\tmounted() {\r\n\t\t\tdocument.documentElement.scrollTop = 0;\r\n\t\t\twindow.addEventListener(\"scroll\", this.handelNewScroll);\r\n\t\t},\r\n\t\tdestroyed() {\r\n\t\t\twindow.removeEventListener(\"scroll\", this.handelNewScroll);\r\n\t\t}\r\n\t};\r\n</script>\r\n<style scoped lang=\"less\">\r\n\t.Msg-container {\r\n\t\tposition: relative;\r\n\t\tpadding-top: 70px;\r\n\t\ttransition: all 0.2s;\r\n\t\tmin-height: 100vh;\r\n\t\tmargin-bottom: 20px;\r\n\r\n\t\t>.container-fixed {\r\n\t\t\twidth: 90%;\r\n\t\t\tmargin: auto;\r\n\r\n\t\t\t>.container-inner {\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t\t>.msg-title {\r\n\t\t\t\t\tpadding: 10px;\r\n\r\n\t\t\t\t\th1 {\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tp {\r\n\t\t\t\t\t\tmargin-top: 20px;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tfont-size: 24px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t>.textarea-wrap {\r\n\t\t\t\t\tmargin-top: 20px;\r\n\t\t\t\t\tpadding: 15px;\r\n\t\t\t\t\tmargin: auto;\r\n\t\t\t\t\twidth: 96%;\r\n\t\t\t\t\theight: 285px;\r\n\r\n\t\t\t\t\t>.form-content {\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\theight: 284px;\r\n\t\t\t\t\t\tborder: 1px solid #ccc;\r\n\r\n\t\t\t\t\t\t>.text-content {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\ttop: 60px;\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t\t\t\t>.layui-input-block {\r\n\t\t\t\t\t\t\t\tmargin: 0;\r\n\t\t\t\t\t\t\t\tpadding: 10px;\r\n\r\n\t\t\t\t\t\t\t\t>.layui-textarea {\r\n\t\t\t\t\t\t\t\t\theight: 140px;\r\n\t\t\t\t\t\t\t\t\tfont-size: 17px;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t>.layui-form-item {\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tbottom: 0;\r\n\r\n\t\t\t\t\t\t\t>.layui-input-block {\r\n\t\t\t\t\t\t\t\tmargin: 0;\r\n\r\n\t\t\t\t\t\t\t\t>.layui-btn {\r\n\t\t\t\t\t\t\t\t\tmargin-left: 11px;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/deep/.layui-layedit {\r\n\t\t\t\t\twidth: 90%;\r\n\t\t\t\t\tmargin: auto;\r\n\t\t\t\t\theight: 238px;\r\n\t\t\t\t\tmargin-bottom: 20px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t>.user-message {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmargin-top: 20px;\r\n\r\n\t\t\t\tli {\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tpadding: 15px;\r\n\t\t\t\t\tborder-bottom: 1px dotted gray;\r\n\t\t\t\t\tanimation: pp 2s;\r\n\r\n\t\t\t\t\t//父级发言\r\n\t\t\t\t\t.comment-parent {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t\t\t.p-img {\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\theight: 40px;\r\n\t\t\t\t\t\t\twidth: 40px;\r\n\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t\tbackground-position: center center;\r\n\t\t\t\t\t\t\tbackground-size: cover;\r\n\t\t\t\t\t\t\tmargin-right: 5px;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.p-info {\r\n\t\t\t\t\t\t\t.p-name {\r\n\t\t\t\t\t\t\t\tcolor: #01aaed;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.p-comtent {\r\n\t\t\t\t\t\t\t\tpadding: 7px 0 6px 0;\r\n\t\t\t\t\t\t\t\tmin-height: 30px;\r\n\t\t\t\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\t\t\t\tcolor: rgb(53, 53, 53);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.p-time {\r\n\t\t\t\t\t\t\t\tcolor: #515250;\r\n\r\n\t\t\t\t\t\t\t\ti {\r\n\t\t\t\t\t\t\t\t\tmargin: 0 5px;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tspan {\r\n\t\t\t\t\t\t\t\t\tmargin: 0 3px;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\ta {\r\n\t\t\t\t\t\t\t\t\tuser-select: none;\r\n\t\t\t\t\t\t\t\t\tcolor: #009688;\r\n\t\t\t\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\thr {\r\n\t\t\t\t\t\tmargin-left: 40px;\r\n\t\t\t\t\t\tmargin-bottom: 10px;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.comment-child {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tmargin-top: 5px;\r\n\t\t\t\t\t\tmargin-left: 40px;\r\n\r\n\t\t\t\t\t\t.c-img {\r\n\t\t\t\t\t\t\theight: 40px;\r\n\t\t\t\t\t\t\twidth: 40px;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t\tbackground-position: center center;\r\n\t\t\t\t\t\t\tbackground-size: cover;\r\n\t\t\t\t\t\t\tmargin-right: 5px;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.c-info {\r\n\t\t\t\t\t\t\t.c-name {\r\n\t\t\t\t\t\t\t\tcolor: gray;\r\n\r\n\t\t\t\t\t\t\t\t.name {\r\n\t\t\t\t\t\t\t\t\tcolor: #01aaed;\r\n\t\t\t\t\t\t\t\t\tpadding: 0 3px;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.content {\r\n\t\t\t\t\t\t\t\t\tmargin-left: 2px;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.c-time {\r\n\t\t\t\t\t\t\t\tmargin-top: 12px;\r\n\t\t\t\t\t\t\t\tcolor: gray;\r\n\r\n\t\t\t\t\t\t\t\ti {\r\n\t\t\t\t\t\t\t\t\tmargin: 0 5px;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tspan {\r\n\t\t\t\t\t\t\t\t\tmargin: 0 3px;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\ta {\r\n\t\t\t\t\t\t\t\t\tuser-select: none;\r\n\t\t\t\t\t\t\t\t\tcolor: #009688;\r\n\t\t\t\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.replycontainer {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tmargin-top: 30px;\r\n\t\t\t\t\t\ttransition: height 0.5s;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t\t\t.textbox {\r\n\t\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\t\twidth: 90%;\r\n\t\t\t\t\t\t\theight: 0;\r\n\t\t\t\t\t\t\tmargin: 0 41px;\r\n\t\t\t\t\t\t\ttransition: height 0.5s;\r\n\r\n\t\t\t\t\t\t\t&.showbox {\r\n\t\t\t\t\t\t\t\theight: 131px;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.input {\r\n\t\t\t\t\t\t\t\tmin-height: 80px;\r\n\t\t\t\t\t\t\t\twidth: 90%;\r\n\t\t\t\t\t\t\t\tcolor: gray;\r\n\t\t\t\t\t\t\t\tfont-size: 16px;\r\n\t\t\t\t\t\t\t\tpadding: 12px;\r\n\t\t\t\t\t\t\t\tfont-family: SimSun;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.layui-btn {\r\n\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@keyframes pp {\r\n\t\t\t\t\tfrom {\r\n\t\t\t\t\t\topacity: 0;\r\n\t\t\t\t\t\ttransform: scale(0);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tto {\r\n\t\t\t\t\t\ttransform: scale(1);\r\n\t\t\t\t\t\topacity: 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.loading {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tfont-size: 16px;\r\n\r\n\t\t\t\t\tdiv {\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\tmargin: auto;\r\n\t\t\t\t\t\theight: 51.5px;\r\n\t\t\t\t\t\twidth: 220px;\r\n\t\t\t\t\t\tline-height: 51.5px;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tspan {\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsvg {\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t\ttop: 5px;\r\n\t\t\t\t\t\theight: 40px;\r\n\t\t\t\t\t\twidth: 40px;\r\n\t\t\t\t\t\tanimation: loading-rotate 1s linear infinite;\r\n\r\n\t\t\t\t\t\tcircle {\r\n\t\t\t\t\t\t\theight: 40px;\r\n\t\t\t\t\t\t\twidth: 40px;\r\n\t\t\t\t\t\t\tanimation: loading-dash 1.5s ease-in-out infinite;\r\n\t\t\t\t\t\t\tstroke-dashoffset: 0;\r\n\t\t\t\t\t\t\tstroke-width: 2;\r\n\t\t\t\t\t\t\tstroke: #409eff;\r\n\t\t\t\t\t\t\tstroke-linecap: round;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.no-more {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 30px;\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\tline-height: 30px;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tfont-size: 16px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}