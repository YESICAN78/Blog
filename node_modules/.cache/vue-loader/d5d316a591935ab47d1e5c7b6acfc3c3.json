{"remainingRequest":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Forum\\Forumcontent.vue?vue&type=style&index=0&id=4fab6e3f&scoped=true&lang=less&","dependencies":[{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Forum\\Forumcontent.vue","mtime":1603552392326},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouRm9ydW1jb250ZW50IHsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgcGFkZGluZzogMCAxMHB4Ow0KICAuVG9wc3RvcnktbWFpbkNvbHVtbkNhcmQgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIHVsID4gbGkgew0KICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgcGFkZGluZzogMTVweDsNCiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgICAgIGFuaW1hdGlvbjogQXJ0aWNsZWxpc3QgM3M7DQogICAgICAudGl0bGUgew0KICAgICAgICBmb250LXNpemU6IDE4cHg7DQogICAgICAgIHdpZHRoOiA0MzBweDsNCiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgIGZsb2F0OiBsZWZ0Ow0KICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjRzOw0KICAgICAgICAmOmhvdmVyIHsNCiAgICAgICAgICBjb2xvcjogIzZiYzMwZDsNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICAuYm94IHsNCiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAudGltZSB7DQogICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgIHJpZ2h0OiA1cHg7DQogICAgICAgICAgY29sb3I6IGdyYXk7DQogICAgICAgIH0NCiAgICAgICAgLlJpY2hDb250ZW50IHsNCiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgaGVpZ2h0OiAyMDBweDsNCiAgICAgICAgICAuUmljaENvbnRlbnQtY292ZXIgew0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgdG9wOiAzMHB4Ow0KICAgICAgICAgICAgbGVmdDogMDsNCiAgICAgICAgICAgIGJvdHRvbTogMDsNCiAgICAgICAgICAgIHdpZHRoOiAyNTBweDsNCiAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICAgIGltZyB7DQogICAgICAgICAgICAgIHdpZHRoOiAyNTBweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgLlJpY2hDb250ZW50LWlubmVyIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICAgIHRvcDogMzBweDsNCiAgICAgICAgICAgIHJpZ2h0OiAyMHB4Ow0KICAgICAgICAgICAgd2lkdGg6IDQ1MHB4Ow0KICAgICAgICAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94Ow0KICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7DQogICAgICAgICAgICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDsNCiAgICAgICAgICAgICAtd2Via2l0LWxpbmUtY2xhbXA6IDQ7DQogICAgICAgICAgICBhIHsNCiAgICAgICAgICAgICAgY29sb3I6ICNjY2M7DQogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgMC4zczsNCiAgICAgICAgICAgICAgJjpob3ZlciB7DQogICAgICAgICAgICAgICAgY29sb3I6ICM2YmMzMGQ7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC5SaWNoVGV4dCB7DQogICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICAuQ29udGVudEl0ZW0tYWN0aW9ucyB7DQogICAgICAgIG1hcmdpbi10b3A6IDMwcHg7DQogICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICBoZWlnaHQ6IDUwcHg7DQogICAgICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAgIHNwYW4gew0KICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxNXB4Ow0KICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzOw0KICAgICAgICAgIGNvbG9yOiAjY2NjOw0KICAgICAgICAgICY6aG92ZXIgew0KICAgICAgICAgICAgY29sb3I6ICM2YmMzMGQ7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC5yZWRpbmcgew0KICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICByaWdodDogNDBweDsNCiAgICAgICAgICBhIHsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3M7DQogICAgICAgICAgICBmb250LXNpemU6IDIwcHg7DQogICAgICAgICAgICBjb2xvcjogI2NjYzsNCiAgICAgICAgICAgICY6aG92ZXIgew0KICAgICAgICAgICAgICBjb2xvcjogIzZiYzMwZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLklmc2hvdywNCiAgICAgICAgLklmQ29sbHNob3cgew0KICAgICAgICAgIGNvbG9yOiAjNmJjMzBkOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIEBrZXlmcmFtZXMgQXJ0aWNsZWxpc3Qgew0KICAgIGZyb20gew0KICAgICAgb3BhY2l0eTogMDsNCiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7DQogICAgfQ0KICAgIHRvIHsNCiAgICAgIG9wYWNpdHk6IDE7DQogICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpOw0KICAgIH0NCiAgfQ0KICAgID4gLmxvYWRpbmcgew0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgZm9udC1zaXplOiAxNnB4Ow0KICAgICAgZGl2IHsNCiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICBtYXJnaW46IGF1dG87DQogICAgICAgIGhlaWdodDogNTEuNXB4Ow0KICAgICAgICB3aWR0aDogMjIwcHg7DQogICAgICAgIGxpbmUtaGVpZ2h0OiA1MS41cHg7DQogICAgICB9DQogICAgICBzcGFuIHsNCiAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgfQ0KICAgICAgc3ZnIHsNCiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICByaWdodDogMDsNCiAgICAgICAgdG9wOiA1cHg7DQogICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgd2lkdGg6IDQwcHg7DQogICAgICAgIGFuaW1hdGlvbjogbG9hZGluZy1yb3RhdGUgMXMgbGluZWFyIGluZmluaXRlOw0KICAgICAgICBjaXJjbGUgew0KICAgICAgICAgIGhlaWdodDogNDBweDsNCiAgICAgICAgICB3aWR0aDogNDBweDsNCiAgICAgICAgICBhbmltYXRpb246IGxvYWRpbmctZGFzaCAxLjVzIGVhc2UtaW4tb3V0IGluZmluaXRlOw0KICAgICAgICAgIHN0cm9rZS1kYXNob2Zmc2V0OiAwOw0KICAgICAgICAgIHN0cm9rZS13aWR0aDogMjsNCiAgICAgICAgICBzdHJva2U6ICM0MDllZmY7DQogICAgICAgICAgc3Ryb2tlLWxpbmVjYXA6IHJvdW5kOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgID4gLm5vLW1vcmUgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogMzBweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgIGxpbmUtaGVpZ2h0OiAzMHB4Ow0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBmb250LXNpemU6IDE2cHg7DQogIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Forumcontent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Forumcontent.vue","sourceRoot":"src/components/Forum","sourcesContent":["<!-- 类容部分 -->\r\n<template>\r\n  <div class=\"Forumcontent\">\r\n    <div class=\"Topstory-mainColumnCard\">\r\n      <ul>\r\n        <li v-for=\"(item,index) in infomationList\" :key=\"item._id\">\r\n          <div class=\"box\">\r\n            <a class=\"title\" :href=\"'/Forumarticle/'+ item._id\">{{item.title}}</a>\r\n            <p class=\"time\">发布时间:{{item.date | Time}}</p>\r\n            <div class=\"RichContent\">\r\n              <div class=\"RichContent-cover\">\r\n                <router-link :to=\"'/Forumarticle/'+ item._id\">\r\n                  <img :src=\"item.forumface\" alt />\r\n                </router-link>\r\n              </div>\r\n              <div class=\"RichContent-inner\">\r\n                <div class=\"RichText\" v-html=\"item.content\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"ContentItem-actions\">\r\n            <span @click=\"addpv(item._id)\">\r\n              <svg\r\n                class=\"Zi Zi--Like\"\r\n                fill=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                style=\"margin-right: 5px;\"\r\n              >\r\n                <path\r\n                  d=\"M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z\"\r\n                  fill-rule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              {{item.pv}}\r\n            </span>\r\n            <span @click=\"MassageClick(item._id,index)\">\r\n              <i class=\"el-icon-s-comment\"></i>\r\n              {{item.commentnum | Num}}条评论\r\n            </span>\r\n            <span @click=\"Collection(item._id)\">\r\n              <i class=\"el-icon-star-on\"></i>\r\n              收藏\r\n            </span>\r\n            <span class=\"reding\">\r\n              <router-link :to=\"'/Forumarticle/'+ item._id\">阅读全文</router-link>\r\n            </span>\r\n          </div>\r\n          <Massage\r\n            @PcurrentChange=\"PcurrentChange\"\r\n            :aid=\"item._id\"\r\n            :Articledata=\"Articledata\"\r\n            ref=\"RechText\"\r\n          ></Massage>\r\n        </li>\r\n      </ul>\r\n      <div v-if=\"ifloading\" class=\"loading\">\r\n          <div>\r\n            <span>加载中请稍等....</span>\r\n            <svg viewBox=\"25 25 50 50\" class=\"circular\">\r\n              <circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" class=\"path\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        <p v-if=\"ifnomore\" class=\"no-more\">我也是有底线的哦😎</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Massage from \"./Massage\";\r\n\r\n//导入接口\r\nimport request from \"../../api/index\";\r\nconst PostgetArticle = request.PostgetArticle;\r\nconst getforumMsg = request.getforumMsg;\r\nconst postifLogin = request.postifLogin;\r\nconst PostCollection = request.PostCollection;\r\nconst Updatacollarticle = request.Updatacollarticle;\r\nconst Postpv = request.Postpv;\r\n\r\nfunction setNum(num) {\r\n  return num / 1000 > 10 ? num / 10000 + \"万\" : num;\r\n}\r\n\r\nfunction getTime(val) {\r\n  return (val < 10 ? \"0\" : \"\") + val;\r\n}\r\nexport default {\r\n  name: \"Container\",\r\n  components: { Massage },\r\n  data() {\r\n    return {\r\n      ifshowRechText: false,\r\n      infomationList: [],\r\n      //文章评论相关数据\r\n      Articledata: [],\r\n      skip: 0,\r\n      limit: 0,\r\n      //请求文章的数据\r\n      skip1: 0,\r\n      limit1: 5,\r\n      //点赞的数据\r\n      ifpv: 1,\r\n      //储存文章的id\r\n      aid: \"\",\r\n      //页码相关的数据\r\n      PageSize: 8, //每次请求10章文章\r\n      PindexSize: 1, //默认1页\r\n      //底部没有数据了\r\n      ifnomore: false,\r\n      //是否加载\r\n      ifloading: false,\r\n    };\r\n  },\r\n  filters: {\r\n    Num(val) {\r\n      let pp = setNum(val);\r\n      return pp;\r\n    },\r\n    Time(val) {\r\n      let date = new Date(val);\r\n      let YY = getTime(date.getFullYear()),\r\n        MM = getTime(date.getMonth() + 1),\r\n        DD = getTime(date.getDate()),\r\n        H = getTime(date.getHours()),\r\n        M = getTime(date.getMinutes()),\r\n        S = getTime(date.getSeconds());\r\n      return `${YY}/${MM}/${DD}/${H}:${M}:${S}`;\r\n    }\r\n  },\r\n  computed: {},\r\n   watch: {\r\n    //监听路由的变化 又重新请求\r\n    id() {\r\n      this.getAllarticle();\r\n      document.documentElement.scrollTop = 0;\r\n    }\r\n  },\r\n  methods: {\r\n    //请求文章的函数\r\n    getAllarticle() {\r\n      this.ifloading = this.ifnomore = false;\r\n      PostgetArticle(this.skip1, this.limit1)\r\n        .then(res => {\r\n          this.infomationList = res.data.data;\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    //监听滚条获取文章\r\n    handelNewScroll() {\r\n      if (this.ifnomore || this.ifloading) return;\r\n      //浏览器的总高\r\n      let a = document.documentElement.offsetHeight;\r\n      //滚动高\r\n      let b = document.documentElement.scrollTop;\r\n      //可视区域的搞\r\n      let c = document.documentElement.clientHeight;\r\n\r\n      if (b + c >= a - 300) {\r\n        this.ifloading = true;\r\n        this.skip1 +=5;\r\n        PostgetArticle(this.skip1, this.limit1)\r\n          .then(res => {\r\n            this.ifloading = false;\r\n            let data = res.data.data;\r\n            if (data.length) {\r\n              this.infomationList.push(...data);\r\n            } else {\r\n              this.ifnomore = true;\r\n            }\r\n          })\r\n          .catch(e => {});\r\n      }\r\n    },\r\n    //控制子组件的函数\r\n    MassageClick(aid, index) {\r\n      this.$refs.RechText[index].Massagefn(index);\r\n      // 获取该篇文章的评论信息\r\n      this.aid = aid;\r\n      getforumMsg({\r\n        aid,\r\n        skip: this.skip,\r\n        limit: this.limit\r\n      })\r\n        .then(res => {\r\n          let data = res.data.data;\r\n          if (res.data.code === 0) {\r\n            data.forEach(item => {\r\n              item.reply = {\r\n                user: \"\", //id(谁回复我)\r\n                content: \"\", //回复的类容\r\n                subsetuser: \"\",\r\n                date: \"\",\r\n                ifShow: false, //是否显示回复框\r\n                lastIdexArr: [] //保存现在的点击的父级和子集的输入框\r\n              };\r\n            });\r\n            this.Articledata = data;\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    //Massage组件的事件函数\r\n    PcurrentChange(index, size) {\r\n      let skip = size * (index - 1);\r\n      getforumMsg({\r\n        aid: this.aid,\r\n        skip: skip,\r\n        limit: size\r\n      })\r\n        .then(res => {\r\n          let data = res.data.data;\r\n          if (res.data.code === 0) {\r\n            data.forEach(item => {\r\n              item.reply = {\r\n                user: \"\", //id(谁回复我)\r\n                content: \"\", //回复的类容\r\n                subsetuser: \"\",\r\n                date: \"\",\r\n                ifShow: false, //是否显示回复框\r\n                lastIdexArr: [] //保存现在的点击的父级和子集的输入框\r\n              };\r\n            });\r\n            this.Articledata = data;\r\n          }\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    //点击收藏发送数据\r\n    Collection(aid) {\r\n      //判断是否登录\r\n      postifLogin()\r\n        .then(res => {\r\n          if (res.data.userInfo) {\r\n            //更新收藏\r\n            Updatacollarticle(aid, res.data.userInfo._id).then(res => {\r\n              this.$message({\r\n                message: res.data.msg,\r\n                type: \"success\"\r\n              });\r\n              setTimeout(() => {\r\n                window.location.reload();\r\n              }, 1000);\r\n            });\r\n          } else {\r\n            this.$message({\r\n              message: \"请先登录\",\r\n              type: \"warning\"\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message.error(res.data.msg);\r\n        });\r\n    },\r\n    //点赞量的请求\r\n    addpv(aid) {\r\n      let userid = localStorage.getItem(\"userid\");\r\n      Postpv(aid, userid)\r\n        .then(res => {\r\n          if (res.data.code) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: res.data.msg,\r\n              type: \"warning\",\r\n              duration: 1000\r\n            });\r\n            setTimeout(() => {\r\n              window.location.reload();\r\n            }, 1000);\r\n          } else {\r\n            this.$message({\r\n              message: res.data.msg,\r\n              type: \"success\",\r\n              duration: 1000\r\n            });\r\n            setTimeout(() => {\r\n              window.location.reload();\r\n            }, 1000);\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  },\r\n  //生命周期 - 创建完成（访问当前this实例）\r\n  created() {},\r\n  //生命周期 - 挂载完成（访问DOM元素）\r\n  mounted() {\r\n    this.getAllarticle();\r\n    window.addEventListener(\"scroll\", this.handelNewScroll);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"scroll\", this.handelNewScroll);\r\n  },\r\n};\r\n</script>\r\n<style  scoped lang=\"less\">\r\n.Forumcontent {\r\n  box-sizing: border-box;\r\n  padding: 0 10px;\r\n  .Topstory-mainColumnCard {\r\n    width: 100%;\r\n    ul > li {\r\n      position: relative;\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      padding: 15px;\r\n      margin-bottom: 10px;\r\n      overflow: hidden;\r\n      background-color: #fff;\r\n      animation: Articlelist 3s;\r\n      .title {\r\n        font-size: 18px;\r\n        width: 430px;\r\n        overflow: hidden;\r\n        font-weight: 600;\r\n        display: block;\r\n        float: left;\r\n        margin-bottom: 20px;\r\n        transition: color 0.4s;\r\n        &:hover {\r\n          color: #6bc30d;\r\n        }\r\n      }\r\n\r\n      .box {\r\n        position: relative;\r\n        .time {\r\n          position: absolute;\r\n          right: 5px;\r\n          color: gray;\r\n        }\r\n        .RichContent {\r\n          position: relative;\r\n          height: 200px;\r\n          .RichContent-cover {\r\n            position: absolute;\r\n            top: 30px;\r\n            left: 0;\r\n            bottom: 0;\r\n            width: 250px;\r\n            height: 100%;\r\n            img {\r\n              width: 250px;\r\n            }\r\n          }\r\n          .RichContent-inner {\r\n            position: absolute;\r\n            top: 30px;\r\n            right: 20px;\r\n            width: 450px;\r\n             display: -webkit-box;\r\n             overflow: hidden;\r\n             line-height: 20px;\r\n             -webkit-box-orient: vertical;\r\n             -webkit-line-clamp: 4;\r\n            a {\r\n              color: #ccc;\r\n              font-size: 16px;\r\n              transition: color 0.3s;\r\n              &:hover {\r\n                color: #6bc30d;\r\n              }\r\n            }\r\n            .RichText {\r\n             margin-left: 20px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .ContentItem-actions {\r\n        margin-top: 30px;\r\n        width: 100%;\r\n        height: 50px;\r\n        font-size: 20px;\r\n        user-select: none;\r\n        span {\r\n          margin-left: 15px;\r\n          cursor: pointer;\r\n          transition: color 0.3s;\r\n          color: #ccc;\r\n          &:hover {\r\n            color: #6bc30d;\r\n          }\r\n        }\r\n        .reding {\r\n          position: absolute;\r\n          right: 40px;\r\n          a {\r\n            transition: color 0.3s;\r\n            font-size: 20px;\r\n            color: #ccc;\r\n            &:hover {\r\n              color: #6bc30d;\r\n            }\r\n          }\r\n        }\r\n        .Ifshow,\r\n        .IfCollshow {\r\n          color: #6bc30d;\r\n        }\r\n      }\r\n    }\r\n    @keyframes Articlelist {\r\n    from {\r\n      opacity: 0;\r\n      transform: scale(0);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: scale(1);\r\n    }\r\n  }\r\n    > .loading {\r\n      width: 100%;\r\n      background-color: #fff;\r\n      text-align: center;\r\n      font-size: 16px;\r\n      div {\r\n        position: relative;\r\n        margin: auto;\r\n        height: 51.5px;\r\n        width: 220px;\r\n        line-height: 51.5px;\r\n      }\r\n      span {\r\n        height: 100%;\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        height: 100%;\r\n      }\r\n      svg {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 5px;\r\n        height: 40px;\r\n        width: 40px;\r\n        animation: loading-rotate 1s linear infinite;\r\n        circle {\r\n          height: 40px;\r\n          width: 40px;\r\n          animation: loading-dash 1.5s ease-in-out infinite;\r\n          stroke-dashoffset: 0;\r\n          stroke-width: 2;\r\n          stroke: #409eff;\r\n          stroke-linecap: round;\r\n        }\r\n      }\r\n    }\r\n    > .no-more {\r\n    width: 100%;\r\n    height: 30px;\r\n    background-color: #fff;\r\n    line-height: 30px;\r\n    text-align: center;\r\n    font-size: 16px;\r\n  }\r\n  }\r\n}\r\n</style>"]}]}