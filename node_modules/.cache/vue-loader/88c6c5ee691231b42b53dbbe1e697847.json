{"remainingRequest":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Canvas.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\components\\Canvas.vue","mtime":1585928976150},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmNsYXNzIEJ1YmJsZSB7CiAgY29uc3RydWN0b3IgKHgsIHkpIHsKICAgIHRoaXMueCA9IHgKICAgIHRoaXMueSA9IHkKICAgIHRoaXMudnggPSBNYXRoLnJhbmRvbSgpICogNSAtIDEuNQogICAgdGhpcy52eSA9IE1hdGgucmFuZG9tKCkgKiAzIC0gMS41CiAgICB0aGlzLnIgPSBNYXRoLnJhbmRvbSgpICogMjAgKyAzCiAgICB0aGlzLmRlYWQgPSBmYWxzZQogICAgdGhpcy5jb2xvciA9ICcjJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDIsIDgpCiAgfQogIHJlbmRlciAoY3R4KSB7CiAgICBjdHguYmVnaW5QYXRoKCkKICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yCiAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInCiAgICBjdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnIsIDAsIE1hdGguUEkgKiAyKQogICAgY3R4LmZpbGwoKQogIH0KICB1cGRhdGUgKCkgewogICAgdGhpcy5yICo9IDAuOTYKICAgIHRoaXMueCArPSB0aGlzLnZ4CiAgICB0aGlzLnkgKz0gdGhpcy52eQogICAgaWYgKHRoaXMuciA8IDAuMDEpIHsKICAgICAgdGhpcy5kZWFkID0gdHJ1ZQogICAgfQogIH0KfQpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hlbGxvV29ybGQnLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FudmFzOiBudWxsLAogICAgICBidWJibGVzOiBbXSwKICAgICAgdGltZXIgOiBudWxsLAogICAgICBhbmltYXRlU3RhdGUgOiB0cnVlCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMuaW5pdCgpCiAgICB0aGlzLnJlZ2lzdGVyKCkKICAgIHRoaXMucmVuZGVyKCkKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5oYW5kbGVSZXNpemUpOwogICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyx0aGlzLmhhbmRsZU1vdXNlbW92ZSkKICAgIHRoaXMuYW5pbWF0ZVN0YXRlID0gZmFsc2U7CiAgfSwKICB3YXRjaDp7CiAgICB3aWR0aCgpewogICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGggfHwgNTAwCiAgICB9CiAgICAsaGVpZ2h0KCl7CiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0IHx8IDMwMAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaW5pdCAoKSB7CiAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbnZhcycpCiAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKQogICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aDsKICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gMzAwOwogICAgICB0aGlzLmF1dG8oKQogICAgfSwKICAgIGF1dG8oKXsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpPT57CiAgICAgICAgdGhpcy5idWJibGVzLnB1c2gobmV3IEJ1YmJsZSh0aGlzLmNhbnZhcy53aWR0aCAqIE1hdGgucmFuZG9tKCksIHRoaXMuY2FudmFzLmhlaWdodCAqIE1hdGgucmFuZG9tKCkpKQogICAgICB9LDMwKQogICAgfSwKICAgIHJlZ2lzdGVyICgpIHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5oYW5kbGVSZXNpemUpOwogICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLHRoaXMuaGFuZGxlTW91c2Vtb3ZlKQogICAgfSwKICAgIHJlbmRlciAoKSB7CiAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KQogICAgICB0aGlzLmJ1YmJsZXMuZm9yRWFjaChidWJibGUgPT4gewogICAgICAgIGJ1YmJsZS5yZW5kZXIodGhpcy5jdHgpCiAgICAgICAgYnViYmxlLnVwZGF0ZSgpCiAgICAgIH0pCiAgICAgIHRoaXMuYnViYmxlcyA9IHRoaXMuYnViYmxlcy5maWx0ZXIoYnViYmxlID0+IHsKICAgICAgICByZXR1cm4gIWJ1YmJsZS5kZWFkCiAgICAgIH0pCiAgICAgIHRoaXMuYW5pbWF0ZVN0YXRlICYmIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnJlbmRlcigpKQogICAgfSwKICAgIGhhbmRsZVJlc2l6ZSgpewogICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aDsKICAgIH0sCiAgICBoYW5kbGVNb3VzZW1vdmUoZSl7CiAgICAgIHRoaXMuYnViYmxlcy5wdXNoKG5ldyBCdWJibGUoZS5vZmZzZXRYLCBlLm9mZnNldFkpKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Canvas.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Canvas.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <canvas id=\"canvas\" height=\"300\"></canvas>\n</template>\n\n<script>\nclass Bubble {\n  constructor (x, y) {\n    this.x = x\n    this.y = y\n    this.vx = Math.random() * 5 - 1.5\n    this.vy = Math.random() * 3 - 1.5\n    this.r = Math.random() * 20 + 3\n    this.dead = false\n    this.color = '#' + Math.random().toString(16).slice(2, 8)\n  }\n  render (ctx) {\n    ctx.beginPath()\n    ctx.fillStyle = this.color\n    ctx.globalCompositeOperation = 'lighter'\n    ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2)\n    ctx.fill()\n  }\n  update () {\n    this.r *= 0.96\n    this.x += this.vx\n    this.y += this.vy\n    if (this.r < 0.01) {\n      this.dead = true\n    }\n  }\n}\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      canvas: null,\n      bubbles: [],\n      timer : null,\n      animateState : true\n    }\n  },\n  mounted () {\n    this.init()\n    this.register()\n    this.render()\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n    window.removeEventListener(\"resize\",this.handleResize);\n    this.canvas.removeEventListener('mousemove',this.handleMousemove)\n    this.animateState = false;\n  },\n  watch:{\n    width(){\n      this.canvas.width = this.width || 500\n    }\n    ,height(){\n      this.canvas.height = this.height || 300\n    }\n  },\n  methods: {\n    init () {\n      this.canvas = document.querySelector('#canvas')\n      this.ctx = this.canvas.getContext('2d')\n      this.canvas.width = document.documentElement.offsetWidth;\n      this.canvas.height = 300;\n      this.auto()\n    },\n    auto(){\n      clearInterval(this.timer);\n      this.timer = setInterval(()=>{\n        this.bubbles.push(new Bubble(this.canvas.width * Math.random(), this.canvas.height * Math.random()))\n      },30)\n    },\n    register () {\n      window.addEventListener(\"resize\",this.handleResize);\n      this.canvas.addEventListener('mousemove',this.handleMousemove)\n    },\n    render () {\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n      this.bubbles.forEach(bubble => {\n        bubble.render(this.ctx)\n        bubble.update()\n      })\n      this.bubbles = this.bubbles.filter(bubble => {\n        return !bubble.dead\n      })\n      this.animateState && requestAnimationFrame(() => this.render())\n    },\n    handleResize(){\n      this.canvas.width = document.documentElement.offsetWidth;\n    },\n    handleMousemove(e){\n      this.bubbles.push(new Bubble(e.offsetX, e.offsetY))\n    }\n  }\n}\n</script>\n<style scoped>\n  #canvas{\n    background-color: #222;\n  }\n</style>\n"]}]}