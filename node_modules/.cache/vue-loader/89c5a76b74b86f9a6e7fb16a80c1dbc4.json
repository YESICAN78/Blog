{"remainingRequest":"D:\\ç¬¬ä¸‰é˜¶æ®µ\\ç¬¬ä¸‰é˜¶æ®µVue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ç¬¬ä¸‰é˜¶æ®µ\\ç¬¬ä¸‰é˜¶æ®µVue\\Blog\\Blog\\src\\components\\Login.vue?vue&type=style&index=0&id=ba723fb6&scoped=true&lang=less&","dependencies":[{"path":"D:\\ç¬¬ä¸‰é˜¶æ®µ\\ç¬¬ä¸‰é˜¶æ®µVue\\Blog\\Blog\\src\\components\\Login.vue","mtime":1603627011165},{"path":"D:\\ç¬¬ä¸‰é˜¶æ®µ\\ç¬¬ä¸‰é˜¶æ®µVue\\Blog\\Blog\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ç¬¬ä¸‰é˜¶æ®µ\\ç¬¬ä¸‰é˜¶æ®µVue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\ç¬¬ä¸‰é˜¶æ®µ\\ç¬¬ä¸‰é˜¶æ®µVue\\Blog\\Blog\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\ç¬¬ä¸‰é˜¶æ®µ\\ç¬¬ä¸‰é˜¶æ®µVue\\Blog\\Blog\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ç¬¬ä¸‰é˜¶æ®µ\\ç¬¬ä¸‰é˜¶æ®µVue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ç¬¬ä¸‰é˜¶æ®µ\\ç¬¬ä¸‰é˜¶æ®µVue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmZvcm0taXRlbSB7DQogIHBhZGRpbmctcmlnaHQ6IDMwcHg7DQp9DQoudmNvZGUgew0KICB1c2VyLXNlbGVjdDogbm9uZTsNCiAgLmVsLWlucHV0IHsNCiAgICB3aWR0aDogMzUlOw0KICAgIGZsb2F0OiBsZWZ0Ow0KICB9DQogIGRpdi5zdmcgew0KICAgIHdpZHRoOiAzNSU7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgaGVpZ2h0OiA0MHB4Ow0KICAgIC9kZWVwLyBzdmcgew0KICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsNCiAgICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50Ow0KICAgIH0NCiAgfQ0KICAucmVmcmVzaCB7DQogICAgd2lkdGg6IDMwJTsNCiAgICBoZWlnaHQ6IDQwcHg7DQogICAgZmxvYXQ6IGxlZnQ7DQogICAgbGluZS1oZWlnaHQ6IDUwcHg7DQogICAgY29sb3I6IGJsdWU7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICB9DQp9DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<!-- ç™»å½•é¡µé¢ -->\r\n<template>\r\n  <div>\r\n    <el-dialog title=\"ç™»å½•\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"beforeClose\">\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" :rules=\"rules\">\r\n        <el-form-item class=\"form-item\" label=\"ç”¨æˆ·å:\" prop=\"user\">\r\n          <el-input v-model=\"form.user\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item class=\"form-item\" label=\"å¯†ç :\" prop=\"password\">\r\n          <el-input v-model=\"form.password\" show-password></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"handelColse\">ç«‹å³ç™»å½•</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"../api/index\";\r\nconst postLogin = request.postLogin;\r\nconst postifLogin = request.postifLogin;\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      //formè¡¨å•çš„æ•°æ®\r\n      form: {\r\n        user: \"\",\r\n        password: \"\",\r\n      },\r\n      //è¡¨å•éªŒè¯æ•°æ®\r\n      rules: {\r\n        user: [\r\n          //triggerå¤±å»ç„¦ç‚¹è§¦å‘\r\n          { required: true, message: \"è¯·è¾“å…¥ç”¨æˆ·å\", trigger: \"blur\" },\r\n          {\r\n            //æ•°æ®ç±»å‹\r\n            type: \"string\",\r\n            //æ­£åˆ™è§„åˆ™\r\n            pattern: /^[\\w\\u4e00-\\u9fa5\\uac00-\\ud7ff\\u0800-\\u4e00\\-]{2,6}$/,\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (value) {\r\n                if (\r\n                  /^[\\w<>,.?|;':\"{}!@#$%^&*()\\/\\-\\[\\]\\\\]{6,18}$/.test(value)\r\n                ) {\r\n                  callback();\r\n                } else {\r\n                  callback(new Error(\"å¯†ç 6-18ä½,ä¸å…è®¸å‡ºç°å¥‡æ€ªçš„å­—ç¬¦\"));\r\n                }\r\n              } else {\r\n                callback(new Error(\"è¯·è¾“å…¥å¯†ç \"));\r\n              }\r\n              //åœ¨è¿™é‡Œè¿˜éœ€è¦éªŒè¯ç¡®è®¤å¯†ç çš„è®¤è¯\r\n              this.form.checkpassword &&\r\n                this.$refs.form.validateField(\"checkpassword\");\r\n            },\r\n            type: \"string\",\r\n            trigger: [\"blur\", \"change\"],\r\n            required: true,\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  props: [\"dialogVisible\"],\r\n  computed: {},\r\n  methods: {\r\n    //ç‚¹å‡»ç™»å½•\r\n    handelColse() {\r\n      this.$refs[\"form\"].validate((valid) => {\r\n        if (valid) {\r\n          //éªŒè¯é€šè¿‡ å‘èµ·ç™»å½•è¯·æ±‚\r\n          postLogin(this.form)\r\n            .then((res) => {\r\n              if (res.data.code) {\r\n                //ç™»å½•å¤±è´¥\r\n                this.$message({\r\n                  message: res.data.msg,\r\n                  type: \"warning\",\r\n                  offset: 100,\r\n                  duration: 1500,\r\n                });\r\n              } else {\r\n                //ç™»å½•æˆåŠŸ\r\n                this.$message({\r\n                  message: res.data.msg,\r\n                  type: \"success\",\r\n                  offset: 100,\r\n                  duration: 1500,\r\n                });\r\n                console.log(res.data.userInfo._id)\r\n                // ç™»å½•æˆåŠŸåˆ·æ–°é¡µé¢\r\n                setTimeout(() => {\r\n                  postifLogin()\r\n                    .then((res) => {\r\n                      localStorage.setItem(\"userid\", res.data.userInfo._id);\r\n                    })\r\n                    .catch(() => {});\r\n                  window.location.reload();\r\n                }, 2000);\r\n              }\r\n            })\r\n            .catch((e) => {\r\n              this.$message({\r\n                message: \"ç™»å½•å¤±è´¥-ç¨åå†è¯•\",\r\n                type: \"error\",\r\n                offset: 100,\r\n                duration: 1500,\r\n              });\r\n              console.log(\"ç™»å½•å¤±è´¥\", e);\r\n            });\r\n        } else {\r\n        }\r\n      });\r\n    },\r\n    beforeClose() {\r\n      this.$confirm(\"ç¡®å®šå…³é—­ğŸ¤£?\")\r\n        .then(() => {\r\n          this.$emit(\"handelLogin\");\r\n        })\r\n        .catch(() => {});\r\n    },\r\n  },\r\n\r\n  //ç”Ÿå‘½å‘¨æœŸ - åˆ›å»ºå®Œæˆï¼ˆè®¿é—®å½“å‰thiså®ä¾‹ï¼‰\r\n  created() {},\r\n  //ç”Ÿå‘½å‘¨æœŸ - æŒ‚è½½å®Œæˆï¼ˆè®¿é—®DOMå…ƒç´ ï¼‰\r\n  mounted() {},\r\n  destroyed() {},\r\n};\r\n</script>\r\n<style scoped lang='less'>\r\n.form-item {\r\n  padding-right: 30px;\r\n}\r\n.vcode {\r\n  user-select: none;\r\n  .el-input {\r\n    width: 35%;\r\n    float: left;\r\n  }\r\n  div.svg {\r\n    width: 35%;\r\n    float: left;\r\n    height: 40px;\r\n    /deep/ svg {\r\n      width: 100% !important;\r\n      height: 100% !important;\r\n    }\r\n  }\r\n  .refresh {\r\n    width: 30%;\r\n    height: 40px;\r\n    float: left;\r\n    line-height: 50px;\r\n    color: blue;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>"]}]}