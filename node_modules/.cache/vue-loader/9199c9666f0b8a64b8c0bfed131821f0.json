{"remainingRequest":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\views\\Article\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\src\\views\\Article\\index.vue","mtime":1603691261893},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\第三阶段\\第三阶段Vue\\Blog\\Blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUmljaFRleHQgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9SaWNoVGV4dCI7DQppbXBvcnQgTmF2IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvTmF2IjsNCmltcG9ydCB7IGxvY2F0aW9uIH0gZnJvbSAiLi4vLi4vLi4vdXRscy9Mb2NhdGlvbiI7DQppbXBvcnQgcmVxdWVzdCBmcm9tICIuLi8uLi9hcGkvaW5kZXgiOw0KY29uc3QgZ2V0QXJ0aWNsZSA9IHJlcXVlc3QuZ2V0QXJ0aWNsZTsNCmNvbnN0IHBvc3RpZkxvZ2luID0gcmVxdWVzdC5wb3N0aWZMb2dpbjsNCmNvbnN0IGdldEFydGljbGVNYXNzYWdlID0gcmVxdWVzdC5nZXRBcnRpY2xlTWFzc2FnZTsNCmNvbnN0IGdldEFydGljbGVNYXNzYWdlcyA9IHJlcXVlc3QuZ2V0QXJ0aWNsZU1hc3NhZ2VzOw0KY29uc3QgUG9zdGNvbWl0c29ubWFzc2FnZSA9IHJlcXVlc3QuUG9zdGNvbWl0c29ubWFzc2FnZTsNCmNvbnN0IFB2ID0gcmVxdWVzdC5QdjsNCmZ1bmN0aW9uIHRvVG93KG51bSkgew0KICByZXR1cm4gKG51bSA8IDEwID8gIjAiIDogIiIpICsgbnVtOw0KfQ0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQXJ0aWNsZSIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8v5Zyw55CG5L2N572uDQogICAgICBBZG1pbmFkZHJlc3M6ICIiLA0KICAgICAgQXJ0aWNsZUluZm86IG51bGwsDQogICAgICBQYXRoOiAiIiwNCiAgICAgIGNvbW1lbnRMaXN0OiBbXSwNCiAgICAgIGlmbG9hZGluZzogZmFsc2UsDQogICAgICBpZm5vbW9yZTogZmFsc2UsDQogICAgICBza2lwOiAwLA0KICAgICAgbGltaXQ6IDAsDQogICAgICAvL+aSreaUvuaOp+WItg0KICAgICAgc3RvcDogdHJ1ZSwNCiAgICAgIHBsYXk6IGZhbHNlLA0KICAgICAgdmFsdWU6IDAsDQogICAgICBjaGFuZ2V0aW1lOiAwLA0KICAgIH07DQogIH0sDQogIGZpbHRlcnM6IHsNCiAgICBnZXRUaW1lKHZhbCkgew0KICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh2YWwpOw0KICAgICAgbGV0IFlZID0gdG9Ub3coZGF0ZS5nZXRGdWxsWWVhcigpKSwNCiAgICAgICAgTU0gPSB0b1RvdyhkYXRlLmdldE1vbnRoKCkgKyAxKSwNCiAgICAgICAgREQgPSB0b1RvdyhkYXRlLmdldERhdGUoKSksDQogICAgICAgIEggPSB0b1RvdyhkYXRlLmdldEhvdXJzKCkpLA0KICAgICAgICBNID0gdG9Ub3coZGF0ZS5nZXRNaW51dGVzKCkpLA0KICAgICAgICBTID0gdG9Ub3coZGF0ZS5nZXRTZWNvbmRzKCkpOw0KICAgICAgcmV0dXJuIGAke1lZfS8ke01NfS8ke0REfS8ke0h9OiR7TX06JHtTfWA7DQogICAgfSwNCiAgICBkYXRlKHZhbHVlKSB7DQogICAgICByZXR1cm4gdmFsdWUubWF0Y2goL14oXGR7NH0pLShcZHsxLDJ9KS0oXGR7MSwyfSkvKVszXTsNCiAgICB9LA0KICAgIG1vbnRoKHZhbHVlKSB7DQogICAgICByZXR1cm4gdmFsdWUubWF0Y2goL14oXGR7NH0pLShcZHsxLDJ9KS0oXGR7MSwyfSkvKVsyXTsNCiAgICB9LA0KICAgIHllYXIodmFsdWUpIHsNCiAgICAgIHJldHVybiB2YWx1ZS5tYXRjaCgvXihcZHs0fSktKFxkezEsMn0pLShcZHsxLDJ9KS8pWzFdOw0KICAgIH0sDQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBOYXYsDQogICAgUmljaFRleHQsDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgUGF0aHNzKCkgew0KICAgICAgbGV0IHBhdGhzID0gImh0dHA6Ly93d3cuc3VuZnVsaW4uY246ODk4OSIgKyB0aGlzLlBhdGg7DQogICAgICByZXR1cm4gcGF0aHM7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGlmdGltZSgpIHsNCiAgICAgIGxldCBfdGhpcyA9IHRoaXM7DQogICAgICBfdGhpcy4kcmVmcy5pZmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoInRpbWV1cGRhdGUiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgIGxldCBhdWRpbyA9IF90aGlzLiRyZWZzLmlmYXVkaW87DQogICAgICAgIHZhciBwZXJjZW50ID0gKGF1ZGlvLmN1cnJlbnRUaW1lIC8gYXVkaW8uZHVyYXRpb24pICogMTAwOw0KICAgICAgICBfdGhpcy5wZXJjZW50ID0gcGVyY2VudDsNCiAgICAgICAgX3RoaXMudmFsdWUgPSBwZXJjZW50Ow0KICAgICAgfSk7DQogICAgfSwNCiAgICAvLw0KICAgIGNoYW5nZSh2YWx1ZSkgew0KICAgICAgdGhpcy5pZnRpbWUoKTsNCiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnBlcmNlbnQ7DQogICAgfSwNCiAgICBpZnBsYXkoKSB7DQogICAgICBpZiAodGhpcy4kcmVmcy5pZmF1ZGlvLnBhdXNlZCkgew0KICAgICAgICB0aGlzLiRyZWZzLmlmYXVkaW8ucGxheSgpOw0KICAgICAgICB0aGlzLnBsYXkgPSB0cnVlOw0KICAgICAgICB0aGlzLnN0b3AgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5pZnRpbWUoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGlmc3RvcCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuaWZhdWRpby5wYXVzZSgpOw0KICAgICAgdGhpcy5wbGF5ID0gZmFsc2U7DQogICAgICB0aGlzLnN0b3AgPSB0cnVlOw0KICAgIH0sDQogICAgLy/ojrflj5bmlofnq6Dkv6Hmga8NCiAgICBjb21tb24oKSB7DQogICAgICBnZXRBcnRpY2xlKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlKSB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLzQwNCIpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLkFydGljbGVJbmZvID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi80MDQiKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+eCuei1nuabtOaWsOaVsOaNrg0KICAgIEdpdmUoYWlkKSB7DQogICAgICBwb3N0aWZMb2dpbigpDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBQdihhaWQsIHJlcy5kYXRhLnVzZXJJbmZvLl9pZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgICBsYXllci5tc2cocmVzLmRhdGEubXNnLCB7DQogICAgICAgICAgICAgICAgaWNvbjogNiwNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsNCiAgICAgICAgICAgICAgfSwgMCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7DQogICAgfSwNCiAgICAvL+eCueWHu+eItue6p+ivhOiuuueahOWbnuWkjeWHveaVsA0KICAgIHJlcGx5Q2xpY2soUGluZGV4LCBDaW5kZXgpIHsNCiAgICAgIGlmIChQaW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuOw0KICAgICAgLy/mi7/liLDniLbnuqfor4TorroNCiAgICAgIGxldCBwYXJlbnREYXRhID0gdGhpcy5jb21tZW50TGlzdFtQaW5kZXhdOw0KICAgICAgaWYgKENpbmRleCA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgIC8v54i25Zue5aSNDQogICAgICAgIHRoaXMuY29tbWVudExpc3RbUGluZGV4XS5yZXBseS5zdWJzZXR1c2VyID0gdGhpcy5jb21tZW50TGlzdFsNCiAgICAgICAgICBQaW5kZXgNCiAgICAgICAgXS51c2VyLnVzZXI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvL+WtkOWbnuWkjQ0KICAgICAgICB0aGlzLmNvbW1lbnRMaXN0W1BpbmRleF0ucmVwbHkuc3Vic2V0dXNlciA9IHRoaXMuY29tbWVudExpc3RbDQogICAgICAgICAgUGluZGV4DQogICAgICAgIF0uY2hpbGRyZW5bQ2luZGV4XS51c2VyLnVzZXI7DQogICAgICB9DQoNCiAgICAgIGlmICgNCiAgICAgICAgUGluZGV4ID09PSBwYXJlbnREYXRhLnJlcGx5Lmxhc3RJZGV4QXJyWzBdICYmDQogICAgICAgIENpbmRleCA9PT0gcGFyZW50RGF0YS5yZXBseS5sYXN0SWRleEFyclsxXQ0KICAgICAgKSB7DQogICAgICAgIHBhcmVudERhdGEucmVwbHkuaWZTaG93ID0gZmFsc2U7DQogICAgICAgIHBhcmVudERhdGEucmVwbHkubGFzdElkZXhBcnIgPSBbXTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHBhcmVudERhdGEucmVwbHkuaWZTaG93ID0gdHJ1ZTsNCiAgICAgICAgcGFyZW50RGF0YS5yZXBseS5sYXN0SWRleEFyciA9IFtQaW5kZXgsIENpbmRleF07DQogICAgICB9DQogICAgfSwNCiAgICAvL+WPkeihqOeVmeiogA0KICAgIFN1Ym1pdCh2YWx1ZSkgew0KICAgICAgcG9zdGlmTG9naW4oKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YS51c2VySW5mbzsNCiAgICAgICAgICBpZiAoZGF0YSkgew0KICAgICAgICAgICAgLy/lj5HpgIHor7fmsYINCiAgICAgICAgICAgIGxldCBhaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7DQogICAgICAgICAgICBnZXRBcnRpY2xlTWFzc2FnZSh7DQogICAgICAgICAgICAgIHVzZXJpZDogZGF0YS5faWQsDQogICAgICAgICAgICAgIGNvbnRlbnQ6IHZhbHVlLA0KICAgICAgICAgICAgICBhaWQ6IGFpZCwNCiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSkgew0KICAgICAgICAgICAgICAgIGxheWVyLm1zZyhyZXMuZGF0YS5tc2csIHsNCiAgICAgICAgICAgICAgICAgIGljb246IDUsDQogICAgICAgICAgICAgICAgICBhbmltOiA2LA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxheWVyLm1zZyhyZXMuZGF0YS5tc2csIHsNCiAgICAgICAgICAgICAgICAgIGljb246IDYsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQogICAgICAgICAgICAgICAgfSwgMTAwMCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBsYXllci5tc2coIuivt+WFiOeZu+W9leWcqOeVmeiogPCfmJgiLCB7DQogICAgICAgICAgICAgIGljb246IDUsDQogICAgICAgICAgICAgIGFuaW06IDYsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgbGF5ZXIubXNnKCLmnI3liqHlmajplJnor6/vvIznqI3lkI7lho3or5XinaQiLCB7DQogICAgICAgICAgICBpY29uOiAyLA0KICAgICAgICAgICAgYW5pbTogNiwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+WPkeihqOWtkOeVmeiogA0KICAgIGNvbW1pdGNoaWxkbWFzc2FnZShwSW5kZXgpIHsNCiAgICAgIC8v5Yik5pat55m75b2VDQogICAgICBwb3N0aWZMb2dpbigpDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBpZiAocmVzLmRhdGEudXNlckluZm8pIHsNCiAgICAgICAgICAgIC8v55m76ZmG5LqG77yM5bCx5Y+R6YCB5pWw5o2u5Yiw5pWw5o2u5bqTIC0tIOaJp+ihjOeVmeiogOaPkOS6pOeahGFqYXgNCiAgICAgICAgICAgIFBvc3Rjb21pdHNvbm1hc3NhZ2Uoew0KICAgICAgICAgICAgICBwYXJlbnRJZDogdGhpcy5jb21tZW50TGlzdFtwSW5kZXhdLl9pZCwNCiAgICAgICAgICAgICAgdXNlcjogcmVzLmRhdGEudXNlckluZm8uX2lkLA0KICAgICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbW1lbnRMaXN0W3BJbmRleF0ucmVwbHkuY29udGVudCwNCiAgICAgICAgICAgICAgc3Vic2V0dXNlcjogdGhpcy5jb21tZW50TGlzdFtwSW5kZXhdLnJlcGx5LnN1YnNldHVzZXIsDQogICAgICAgICAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUpIHsNCiAgICAgICAgICAgICAgICBsYXllci5tc2cocmVzLmRhdGEubXNnLCB7DQogICAgICAgICAgICAgICAgICBpY29uOiA1LA0KICAgICAgICAgICAgICAgICAgYW5pbTogNiwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBsYXllci5tc2cocmVzLmRhdGEubXNnLCB7DQogICAgICAgICAgICAgICAgICBpY29uOiA2LA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOw0KICAgICAgICAgICAgICAgIH0sIDEwMCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvL+ayoeacieeZu+W9lQ0KICAgICAgICAgICAgbGF5ZXIubXNnKCLor7flhYjnmbvlvZXlnKjor4Torrrwn5iYIiwgew0KICAgICAgICAgICAgICBpY29uOiA1LA0KICAgICAgICAgICAgICBhbmltOiA2LA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgIC8v5pyN5Yqh5Ye66ZSZDQogICAgICAgICAgbGF5ZXIubXNnKCLmnI3liqHlmajplJnor69+6K+356iN5ZCO5YaN6K+VIiwgew0KICAgICAgICAgICAgaWNvbjogMiwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+a7muWKqOWKoOi9vQ0KICAgIGhhbmRlbE5ld1Njcm9sbCgpIHsNCiAgICAgIC8v5aaC5p6c5Ye6546w5Yqg6L295ZKM5oiR5piv5pyJ5bqV57q/55qEIOWwseS4jea7muWKqOS6hg0KICAgICAgaWYgKHRoaXMuaWZsb2FkaW5nKSByZXR1cm47DQogICAgICAvL+a1j+iniOWZqOeahOaAu+mrmA0KICAgICAgbGV0IGEgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0Ow0KICAgICAgLy/lj6/op4bljLrln5/nmoTpq5jluqYNCiAgICAgIGxldCBiID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsNCiAgICAgIC8v5rua5Yqo6auYDQogICAgICBsZXQgYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7DQogICAgICBpZiAoYiArIGMgPiBhIC0gMzAwKSB7DQogICAgICAgIHRoaXMuaWZMb2RpbmcgPSB0cnVlOw0KICAgICAgICB0aGlzLmdldEFydGljbGVzTWFzc2FnZSgoKSA9PiB7DQogICAgICAgICAgbGV0IGFpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsNCiAgICAgICAgICBnZXRBcnRpY2xlTWFzc2FnZXMoYWlkLCB0aGlzLnNraXAsIHRoaXMubGltaXQpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGEubGVuZ3RoKSB7DQogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuaWZub21vcmUgPSB0cnVlOw0KICAgICAgICAgICAgICB9LCAyMDAwKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuaWZsb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICAvL+iOt+WPlueVmeiogOWHveaVsA0KICAgIGdldEFydGljbGVzTWFzc2FnZShjYikgew0KICAgICAgdGhpcy5saW1pdCArPSAzOw0KICAgICAgbGV0IGFpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsNCiAgICAgIGdldEFydGljbGVNYXNzYWdlcyhhaWQsIHRoaXMuc2tpcCwgdGhpcy5saW1pdCkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgICAgICAgIGl0ZW0ucmVwbHkgPSB7DQogICAgICAgICAgICAgICAgdXNlcjogIiIsIC8vaWQo6LCB5Zue5aSN5oiRKQ0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICIiLCAvL+WbnuWkjeeahOexu+WuuQ0KICAgICAgICAgICAgICAgIHN1YnNldHVzZXI6ICIiLA0KICAgICAgICAgICAgICAgIGRhdGU6ICIiLA0KICAgICAgICAgICAgICAgIGlmU2hvdzogZmFsc2UsIC8v5piv5ZCm5pi+56S65Zue5aSN5qGGDQogICAgICAgICAgICAgICAgbGFzdElkZXhBcnI6IFtdLCAvL+S/neWtmOeOsOWcqOeahOeCueWHu+eahOeItue6p+WSjOWtkOmbhueahOi+k+WFpeahhg0KICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLmNvbW1lbnRMaXN0ID0gZGF0YTsNCiAgICAgICAgICB9DQogICAgICAgICAgY2IgJiYgY2IoKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlKSA9PiB7DQogICAgICAgICAgY2IgJiYgY2IoKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+iOt+WPluWcsOeQhuS9jee9rg0KICAgIEdldGxvY2F0aW9uKCkgew0KICAgICAgbGV0IF90aGF0ID0gdGhpczsNCiAgICAgIGxldCBnZW9sb2NhdGlvbiA9IGxvY2F0aW9uLmluaXRNYXAoIm1hcC1jb250YWluZXIiKTsgLy/lrprkvY0NCiAgICAgIEFNYXAuZXZlbnQuYWRkTGlzdGVuZXIoZ2VvbG9jYXRpb24sICJjb21wbGV0ZSIsIChyZXN1bHQpID0+IHsNCiAgICAgICAgX3RoYXQuQWRtaW5hZGRyZXNzID0NCiAgICAgICAgICByZXN1bHQuYWRkcmVzc0NvbXBvbmVudC5wcm92aW5jZSANCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQogIC8v55Sf5ZG95ZGo5pyfIC0g5Yib5bu65a6M5oiQ77yI6K6/6Zeu5b2T5YmNdGhpc+WunuS+i++8iQ0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuY29tbW9uKCk7DQogICAgdGhpcy5nZXRBcnRpY2xlc01hc3NhZ2UoKTsNCiAgICB0aGlzLlBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoOw0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLmhhbmRlbE5ld1Njcm9sbCk7DQogIH0sDQoNCiAgLy/nlJ/lkb3lkajmnJ8gLSDmjILovb3lrozmiJDvvIjorr/pl65ET03lhYPntKDvvIkNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLkdldGxvY2F0aW9uKCk7DQogIH0sDQogIGRlc3Ryb3llZCgpIHsNCiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5oYW5kZWxOZXdTY3JvbGwpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Article","sourcesContent":["<!-- 文章详情页面 -->\r\n<template>\r\n  <div class=\"Article\">\r\n    <Nav></Nav>\r\n    <div class=\"article\">\r\n      <div v-if=\"ArticleInfo\">\r\n        <div class=\"article-main\">\r\n          <section class=\"a-top\">\r\n            <div class=\"a-info\">\r\n              <h4>{{ ArticleInfo.title }}</h4>\r\n              <p>\r\n                <small>\r\n                  作者:\r\n                  <span class=\"anthor\">Sun.Fulin</span>\r\n                </small>\r\n                <small>\r\n                  浏览量:\r\n                  <span>{{ ArticleInfo.pv }}</span>\r\n                </small>\r\n                <small>\r\n                  点赞量:\r\n                  <span>{{ ArticleInfo.Give }}</span>\r\n                </small>\r\n                <small>\r\n                  更新于:\r\n                  <span>{{ ArticleInfo.updateData | getTime }}</span>\r\n                </small>\r\n              </p>\r\n            </div>\r\n            <div class=\"time\">\r\n              <p class=\"date\">{{ ArticleInfo.date | date }}</p>\r\n              <p class=\"month\">\r\n                {{ ArticleInfo.date | month }}\r\n                <span>月</span>\r\n              </p>\r\n              <p class=\"year\">{{ ArticleInfo.date | year }}</p>\r\n            </div>\r\n          </section>\r\n          <section class=\"a-container\" v-html=\"ArticleInfo.content\"></section>\r\n          <section class=\"a-Explain\">\r\n            <div class=\"a-e\">\r\n              <p>\r\n                特殊说明:文章版权归\r\n                <span>Sun.Fulin</span>\r\n                所有，转载注明出处\r\n              </p>\r\n              <p>本文标题:{{ ArticleInfo.title }}</p>\r\n              <p>\r\n                本文连接:\r\n                <a :href=\"Pathss\">{{ Pathss }}</a>\r\n              </p>\r\n            </div>\r\n          </section>\r\n          <section class=\"music\">\r\n            <div\r\n              class=\"mc-img\"\r\n              style=\"\r\n                backgroundimage: url('http://p2.music.126.net/JfCT3qEzMnKHR6KrqZykhA==/109951164620670666.jpg');\r\n                backgroundsize: 100% 100%;\r\n              \"\r\n            >\r\n              <span @click=\"ifplay\" class=\"mc-log\" v-if=\"stop\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  version=\"1.1\"\r\n                  viewBox=\"0 0 16 31\"\r\n                >\r\n                  <path\r\n                    d=\"M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z\"\r\n                  />\r\n                </svg>\r\n              </span>\r\n              <p @click=\"ifstop\" v-if=\"play\">\r\n                <i class=\"el-icon-video-pause\"></i>\r\n              </p>\r\n            </div>\r\n            <div class=\"music-1\">\r\n              <span>神木有灵（梦幻西游巫蛮儿同人曲）</span>\r\n              <span>- 银临</span>\r\n              <div class=\"block\">\r\n                <el-slider\r\n                  @change=\"change(changetime)\"\r\n                  v-model=\"value\"\r\n                  :show-tooltip=\"false\"\r\n                ></el-slider>\r\n              </div>\r\n              <audio\r\n                ref=\"ifaudio\"\r\n                src=\"../../assets/Mp3/Mp3.mp3\"\r\n                loop=\"loop\"\r\n              ></audio>\r\n            </div>\r\n          </section>\r\n          <section class=\"pv\">\r\n            <div>\r\n              <span @click=\"Give(ArticleInfo._id)\">\r\n                <svg\r\n                  data-v-6a6b35b6\r\n                  fill=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  width=\"50\"\r\n                  height=\"50\"\r\n                  class=\"Zi Zi--Like\"\r\n                >\r\n                  <path\r\n                    data-v-6a6b35b6\r\n                    d=\"M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z\"\r\n                    fill-rule=\"evenodd\"\r\n                  />\r\n                </svg>\r\n              </span>\r\n            </div>\r\n          </section>\r\n          <section class=\"massage\">\r\n            <RichText @Submit=\"Submit\"></RichText>\r\n          </section>\r\n          <section class=\"massage-box\">\r\n            <section class=\"user-message\">\r\n              <ul>\r\n                <li v-for=\"(item, index) in commentList\" :key=\"item.id\">\r\n                  <!-- 父级的发表留言 -->\r\n                  <div class=\"comment-parent\">\r\n                    <div\r\n                      class=\"p-img\"\r\n                      :style=\"{\r\n                        backgroundImage: 'url(' + item.user.photo + ')',\r\n                      }\"\r\n                    ></div>\r\n                    <div class=\"p-info\">\r\n                      <div class=\"p-name\">{{ item.user.user }}</div>\r\n                      <div class=\"p-comtent\" v-html=\"item.content\"></div>\r\n                      <p class=\"p-time\">\r\n                        <i class=\"el-icon-location-information\"></i>\r\n                        <span>{{Adminaddress}}</span>\r\n                        <span>{{ item.date | getTime }}</span>\r\n                        <a @click=\"replyClick(index)\">{{\r\n                          item.reply.lastIdexArr[0] === index &&\r\n                          item.reply.lastIdexArr[1] === undefined\r\n                            ? \"收起\"\r\n                            : \"回复\"\r\n                        }}</a>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <hr />\r\n\r\n                  <div\r\n                    class=\"comment-child\"\r\n                    v-for=\"(children, childrenindex) in item.children\"\r\n                    :key=\"children.childrenindex\"\r\n                  >\r\n                    <div\r\n                      class=\"c-img\"\r\n                      :style=\"{\r\n                        backgroundImage: 'url(' + children.user.photo + ')',\r\n                      }\"\r\n                    ></div>\r\n                    <div class=\"c-info\">\r\n                      <div class=\"c-name\">\r\n                        <span class=\"name\">{{ children.user.user }}</span\r\n                        >回复\r\n                        <span class=\"name\">{{ children.subsetuser }}</span>\r\n                        <span class=\"content\">{{ children.content }}</span>\r\n                      </div>\r\n                      <div class=\"c-time\">\r\n                        <i class=\"el-icon-location-information\"></i>\r\n                        <span>{{Adminaddress}}</span>\r\n                        <span>{{ children.date | getTime }}</span>\r\n                        <a @click=\"replyClick(index, childrenindex)\">{{\r\n                          item.reply.lastIdexArr[0] === index &&\r\n                          item.reply.lastIdexArr[1] === childrenindex\r\n                            ? \"收起\"\r\n                            : \"回复\"\r\n                        }}</a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"replycontainer\">\r\n                    <div :class=\"['textbox', { showbox: item.reply.ifShow }]\">\r\n                      <textarea\r\n                        v-model=\"item.reply.content\"\r\n                        class=\"input\"\r\n                        id=\"demo\"\r\n                        :placeholder=\"'回复【' + item.reply.subsetuser + '】:'\"\r\n                      ></textarea>\r\n                      <button\r\n                        @click=\"commitchildmassage(index)\"\r\n                        size=\"mini\"\r\n                        type=\"button\"\r\n                        class=\"layui-btn layui-btn-xs\"\r\n                      >\r\n                        提交留言\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n                <div v-if=\"ifloading\" class=\"loading\">\r\n                  <div>\r\n                    <span>加载中请稍等....</span>\r\n                    <svg viewBox=\"25 25 50 50\" class=\"circular\">\r\n                      <circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" class=\"path\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n                <p v-if=\"ifnomore\" class=\"no-more\">我也是有底线的哦🤷‍♀️</p>\r\n              </ul>\r\n            </section>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RichText from \"../../components/RichText\";\r\nimport Nav from \"../../components/Nav\";\r\nimport { location } from \"../../../utls/Location\";\r\nimport request from \"../../api/index\";\r\nconst getArticle = request.getArticle;\r\nconst postifLogin = request.postifLogin;\r\nconst getArticleMassage = request.getArticleMassage;\r\nconst getArticleMassages = request.getArticleMassages;\r\nconst Postcomitsonmassage = request.Postcomitsonmassage;\r\nconst Pv = request.Pv;\r\nfunction toTow(num) {\r\n  return (num < 10 ? \"0\" : \"\") + num;\r\n}\r\nexport default {\r\n  name: \"Article\",\r\n  data() {\r\n    return {\r\n      //地理位置\r\n      Adminaddress: \"\",\r\n      ArticleInfo: null,\r\n      Path: \"\",\r\n      commentList: [],\r\n      ifloading: false,\r\n      ifnomore: false,\r\n      skip: 0,\r\n      limit: 0,\r\n      //播放控制\r\n      stop: true,\r\n      play: false,\r\n      value: 0,\r\n      changetime: 0,\r\n    };\r\n  },\r\n  filters: {\r\n    getTime(val) {\r\n      let date = new Date(val);\r\n      let YY = toTow(date.getFullYear()),\r\n        MM = toTow(date.getMonth() + 1),\r\n        DD = toTow(date.getDate()),\r\n        H = toTow(date.getHours()),\r\n        M = toTow(date.getMinutes()),\r\n        S = toTow(date.getSeconds());\r\n      return `${YY}/${MM}/${DD}/${H}:${M}:${S}`;\r\n    },\r\n    date(value) {\r\n      return value.match(/^(\\d{4})-(\\d{1,2})-(\\d{1,2})/)[3];\r\n    },\r\n    month(value) {\r\n      return value.match(/^(\\d{4})-(\\d{1,2})-(\\d{1,2})/)[2];\r\n    },\r\n    year(value) {\r\n      return value.match(/^(\\d{4})-(\\d{1,2})-(\\d{1,2})/)[1];\r\n    },\r\n  },\r\n  components: {\r\n    Nav,\r\n    RichText,\r\n  },\r\n  computed: {\r\n    Pathss() {\r\n      let paths = \"http://www.sunfulin.cn:8989\" + this.Path;\r\n      return paths;\r\n    },\r\n  },\r\n  methods: {\r\n    iftime() {\r\n      let _this = this;\r\n      _this.$refs.ifaudio.addEventListener(\"timeupdate\", function () {\r\n        let audio = _this.$refs.ifaudio;\r\n        var percent = (audio.currentTime / audio.duration) * 100;\r\n        _this.percent = percent;\r\n        _this.value = percent;\r\n      });\r\n    },\r\n    //\r\n    change(value) {\r\n      this.iftime();\r\n      this.value = this.percent;\r\n    },\r\n    ifplay() {\r\n      if (this.$refs.ifaudio.paused) {\r\n        this.$refs.ifaudio.play();\r\n        this.play = true;\r\n        this.stop = false;\r\n        this.iftime();\r\n      }\r\n    },\r\n    ifstop() {\r\n      this.$refs.ifaudio.pause();\r\n      this.play = false;\r\n      this.stop = true;\r\n    },\r\n    //获取文章信息\r\n    common() {\r\n      getArticle(this.$route.params.id)\r\n        .then((res) => {\r\n          if (res.data.code) {\r\n            this.$router.push(\"/404\");\r\n          } else {\r\n            this.ArticleInfo = res.data.data;\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$router.push(\"/404\");\r\n        });\r\n    },\r\n    //点赞更新数据\r\n    Give(aid) {\r\n      postifLogin()\r\n        .then((res) => {\r\n          Pv(aid, res.data.userInfo._id).then((res) => {\r\n            if (res.data.code === 0) {\r\n              layer.msg(res.data.msg, {\r\n                icon: 6,\r\n              });\r\n              setTimeout(() => {\r\n                window.location.reload();\r\n              }, 0);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    //点击父级评论的回复函数\r\n    replyClick(Pindex, Cindex) {\r\n      if (Pindex === undefined) return;\r\n      //拿到父级评论\r\n      let parentData = this.commentList[Pindex];\r\n      if (Cindex === undefined) {\r\n        //父回复\r\n        this.commentList[Pindex].reply.subsetuser = this.commentList[\r\n          Pindex\r\n        ].user.user;\r\n      } else {\r\n        //子回复\r\n        this.commentList[Pindex].reply.subsetuser = this.commentList[\r\n          Pindex\r\n        ].children[Cindex].user.user;\r\n      }\r\n\r\n      if (\r\n        Pindex === parentData.reply.lastIdexArr[0] &&\r\n        Cindex === parentData.reply.lastIdexArr[1]\r\n      ) {\r\n        parentData.reply.ifShow = false;\r\n        parentData.reply.lastIdexArr = [];\r\n      } else {\r\n        parentData.reply.ifShow = true;\r\n        parentData.reply.lastIdexArr = [Pindex, Cindex];\r\n      }\r\n    },\r\n    //发表留言\r\n    Submit(value) {\r\n      postifLogin()\r\n        .then((res) => {\r\n          let data = res.data.userInfo;\r\n          if (data) {\r\n            //发送请求\r\n            let aid = this.$route.params.id;\r\n            getArticleMassage({\r\n              userid: data._id,\r\n              content: value,\r\n              aid: aid,\r\n            }).then((res) => {\r\n              if (res.data.code) {\r\n                layer.msg(res.data.msg, {\r\n                  icon: 5,\r\n                  anim: 6,\r\n                });\r\n              } else {\r\n                layer.msg(res.data.msg, {\r\n                  icon: 6,\r\n                });\r\n                setTimeout(() => {\r\n                  window.location.reload();\r\n                }, 1000);\r\n              }\r\n            });\r\n          } else {\r\n            layer.msg(\"请先登录在留言😘\", {\r\n              icon: 5,\r\n              anim: 6,\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {\r\n          layer.msg(\"服务器错误，稍后再试❤\", {\r\n            icon: 2,\r\n            anim: 6,\r\n          });\r\n        });\r\n    },\r\n    //发表子留言\r\n    commitchildmassage(pIndex) {\r\n      //判断登录\r\n      postifLogin()\r\n        .then((res) => {\r\n          if (res.data.userInfo) {\r\n            //登陆了，就发送数据到数据库 -- 执行留言提交的ajax\r\n            Postcomitsonmassage({\r\n              parentId: this.commentList[pIndex]._id,\r\n              user: res.data.userInfo._id,\r\n              content: this.commentList[pIndex].reply.content,\r\n              subsetuser: this.commentList[pIndex].reply.subsetuser,\r\n            }).then((res) => {\r\n              if (res.data.code) {\r\n                layer.msg(res.data.msg, {\r\n                  icon: 5,\r\n                  anim: 6,\r\n                });\r\n              } else {\r\n                layer.msg(res.data.msg, {\r\n                  icon: 6,\r\n                });\r\n                setTimeout(() => {\r\n                  window.location.reload();\r\n                }, 100);\r\n              }\r\n            });\r\n          } else {\r\n            //没有登录\r\n            layer.msg(\"请先登录在评论😘\", {\r\n              icon: 5,\r\n              anim: 6,\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {\r\n          //服务出错\r\n          layer.msg(\"服务器错误~请稍后再试\", {\r\n            icon: 2,\r\n          });\r\n        });\r\n    },\r\n    //滚动加载\r\n    handelNewScroll() {\r\n      //如果出现加载和我是有底线的 就不滚动了\r\n      if (this.ifloading) return;\r\n      //浏览器的总高\r\n      let a = document.documentElement.offsetHeight;\r\n      //可视区域的高度\r\n      let b = document.documentElement.clientHeight;\r\n      //滚动高\r\n      let c = document.documentElement.scrollTop;\r\n      if (b + c > a - 300) {\r\n        this.ifLoding = true;\r\n        this.getArticlesMassage(() => {\r\n          let aid = this.$route.params.id;\r\n          getArticleMassages(aid, this.skip, this.limit).then((res) => {\r\n            if (res.data.data.length) {\r\n              setTimeout(() => {\r\n                this.ifnomore = true;\r\n              }, 2000);\r\n            } else {\r\n              this.ifloading = true;\r\n            }\r\n          });\r\n        });\r\n      }\r\n    },\r\n    //获取留言函数\r\n    getArticlesMassage(cb) {\r\n      this.limit += 3;\r\n      let aid = this.$route.params.id;\r\n      getArticleMassages(aid, this.skip, this.limit)\r\n        .then((res) => {\r\n          let data = res.data.data;\r\n          if (res.data.code === 0) {\r\n            data.forEach((item) => {\r\n              item.reply = {\r\n                user: \"\", //id(谁回复我)\r\n                content: \"\", //回复的类容\r\n                subsetuser: \"\",\r\n                date: \"\",\r\n                ifShow: false, //是否显示回复框\r\n                lastIdexArr: [], //保存现在的点击的父级和子集的输入框\r\n              };\r\n            });\r\n            this.commentList = data;\r\n          }\r\n          cb && cb();\r\n        })\r\n        .catch((e) => {\r\n          cb && cb();\r\n        });\r\n    },\r\n    //获取地理位置\r\n    Getlocation() {\r\n      let _that = this;\r\n      let geolocation = location.initMap(\"map-container\"); //定位\r\n      AMap.event.addListener(geolocation, \"complete\", (result) => {\r\n        _that.Adminaddress =\r\n          result.addressComponent.province \r\n      });\r\n    },\r\n  },\r\n  //生命周期 - 创建完成（访问当前this实例）\r\n  created() {\r\n    this.common();\r\n    this.getArticlesMassage();\r\n    this.Path = this.$route.path;\r\n    window.addEventListener(\"scroll\", this.handelNewScroll);\r\n  },\r\n\r\n  //生命周期 - 挂载完成（访问DOM元素）\r\n  mounted() {\r\n    this.Getlocation();\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"scroll\", this.handelNewScroll);\r\n  },\r\n};\r\n</script>\r\n<style scoped lang=\"less\">\r\n/* @import url(); 引入css类 */\r\n.Article {\r\n  position: relative;\r\n  padding-top: 70px;\r\n  padding-bottom: 20px;\r\n  transition: all 0.2s;\r\n  min-height: 100vh;\r\n  .article {\r\n    width: 90%;\r\n    margin: 30px auto;\r\n    background-color: #fff;\r\n    .article-main {\r\n      box-sizing: border-box;\r\n      padding: 30px 40px;\r\n      .a-top {\r\n        position: relative;\r\n        width: 100%;\r\n        border-bottom: 1px solid #ccc;\r\n        .a-info {\r\n          h4 {\r\n            display: block;\r\n            font-size: 25px;\r\n            color: #515250;\r\n            font-weight: normal;\r\n          }\r\n          p {\r\n            display: block;\r\n            padding: 12px 0;\r\n            font-size: 17px;\r\n            color: #515250;\r\n            small {\r\n              margin-left: 10px;\r\n            }\r\n            small:nth-child(1) {\r\n              margin-left: 0px;\r\n            }\r\n            .anthor {\r\n              font-family: BarbaraHand;\r\n              color: #3e8bc7;\r\n              font-size: 20px;\r\n            }\r\n          }\r\n        }\r\n        .time {\r\n          font-family: SourceCodeProRegular, Menlo, Monaco, Consolas,\r\n            \"Courier New\", monospace, \"Helvetica Neue\", Arial, sans-serif;\r\n          right: 0;\r\n          top: 0;\r\n          position: absolute;\r\n          width: 90px;\r\n          height: 50px;\r\n          background-color: #fff;\r\n          padding: 0 20px 5px 20px;\r\n          line-height: 32px;\r\n          .date {\r\n            display: block;\r\n            text-align: center;\r\n            font-weight: 700;\r\n            font-size: 40px;\r\n            color: #6bc30d;\r\n            position: relative;\r\n            top: 2px;\r\n          }\r\n          .month {\r\n            display: inline-block;\r\n            color: #989997;\r\n            font-size: 18px;\r\n            span {\r\n              font-size: 14px;\r\n            }\r\n          }\r\n          .year {\r\n            position: absolute;\r\n            top: 32px;\r\n            right: 20px;\r\n            color: #989997;\r\n            text-align: center;\r\n            font-size: 18px;\r\n          }\r\n        }\r\n      }\r\n      .a-container {\r\n        padding: 15px;\r\n        overflow: hidden;\r\n        line-height: 28px;\r\n        font-size: 19px;\r\n        color: grey;\r\n      }\r\n      .a-Explain {\r\n        height: 119px;\r\n        width: 100%;\r\n        margin-top: 30px;\r\n        background-color: #f8f9f7;\r\n        .a-e {\r\n          box-sizing: border-box;\r\n          padding: 20px;\r\n          width: 100%;\r\n          height: 100%;\r\n          p {\r\n            padding: 5px 0;\r\n            color: grey;\r\n            span {\r\n              font-family: BarbaraHand;\r\n              color: #3e8bc7;\r\n              font-size: 25px;\r\n            }\r\n          }\r\n          a {\r\n            margin-left: 4px;\r\n            color: #3e8bc7;\r\n          }\r\n        }\r\n      }\r\n      .music {\r\n        position: relative;\r\n        box-sizing: border-box;\r\n        width: 100%;\r\n        height: 70px;\r\n        .mc-img {\r\n          position: relative;\r\n          float: left;\r\n          height: 100%;\r\n          width: 70px;\r\n          img {\r\n            height: 100%;\r\n            display: block;\r\n            width: 70px;\r\n            float: left;\r\n          }\r\n          .mc-log {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            margin: auto;\r\n            width: 30px;\r\n            height: 30px;\r\n            border: 2px solid #fff;\r\n            border-radius: 50%;\r\n            cursor: pointer;\r\n            svg {\r\n              position: absolute;\r\n              top: 5px;\r\n              left: 7px;\r\n              height: 20px;\r\n              width: 20px;\r\n              path {\r\n                fill: #fff;\r\n              }\r\n            }\r\n          }\r\n          p {\r\n            display: block;\r\n            position: absolute;\r\n            right: 0;\r\n            bottom: 0;\r\n            height: 26px;\r\n            width: 26px;\r\n            cursor: pointer;\r\n            i {\r\n              display: block;\r\n              height: 100%;\r\n              color: #fff;\r\n              font-size: 26px;\r\n            }\r\n          }\r\n        }\r\n        .music-1 {\r\n          box-sizing: border-box;\r\n          width: 80%;\r\n          padding-left: 80px;\r\n          padding-top: 25px;\r\n          span:nth-child(2) {\r\n            color: red;\r\n            margin-left: 10px;\r\n          }\r\n          /deep/.el-slider {\r\n            height: 10px;\r\n          }\r\n        }\r\n      }\r\n      .pv {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100px;\r\n        margin-top: 20px;\r\n        border-top: 1px solid gray;\r\n        border-bottom: 1px solid gray;\r\n        div {\r\n          position: absolute;\r\n          width: 100%;\r\n          top: 20%;\r\n          height: 60%;\r\n          margin: auto;\r\n          span {\r\n            height: 100%;\r\n            text-align: center;\r\n            line-height: 60px;\r\n            width: 60px;\r\n            display: block;\r\n            margin: auto;\r\n            border-radius: 50%;\r\n            border: 2px solid #f46753;\r\n            cursor: pointer;\r\n            i {\r\n              font-size: 50px;\r\n              color: #ccc;\r\n            }\r\n          }\r\n          color: #f46753;\r\n        }\r\n      }\r\n      .massage {\r\n        width: 100%;\r\n        height: 238px;\r\n        /deep/.btn {\r\n          margin: 0;\r\n        }\r\n      }\r\n      .massage-box {\r\n        width: 100%;\r\n        > .user-message {\r\n          width: 100%;\r\n          li {\r\n            background: #fff;\r\n            padding: 15px;\r\n            border-bottom: 1px dotted gray;\r\n            animation: pp 2s;\r\n\r\n            //父级发言\r\n            .comment-parent {\r\n              display: flex;\r\n              .p-img {\r\n                overflow: hidden;\r\n                height: 40px;\r\n                width: 40px;\r\n                border-radius: 50%;\r\n                background-position: center center;\r\n                background-size: cover;\r\n                margin-right: 5px;\r\n              }\r\n\r\n              .p-info {\r\n                width: 93%;\r\n                margin: auto;\r\n                .p-name {\r\n                  color: #01aaed;\r\n                }\r\n                .p-comtent {\r\n                  padding: 7px 0 6px 0;\r\n                  min-height: 30px;\r\n                  line-height: 20px;\r\n                  font-size: 14px;\r\n                  color: rgb(53, 53, 53);\r\n                }\r\n\r\n                .p-time {\r\n                  color: #515250;\r\n\r\n                  i {\r\n                    margin: 0 5px;\r\n                  }\r\n\r\n                  span {\r\n                    margin: 0 3px;\r\n                  }\r\n\r\n                  a {\r\n                    user-select: none;\r\n                    color: #009688;\r\n                    cursor: pointer;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            hr {\r\n              margin-left: 40px;\r\n              margin-bottom: 10px;\r\n            }\r\n\r\n            .comment-child {\r\n              display: flex;\r\n              margin-top: 5px;\r\n              margin-left: 40px;\r\n\r\n              .c-img {\r\n                height: 40px;\r\n                width: 40px;\r\n                overflow: hidden;\r\n                border-radius: 50%;\r\n                background-position: center center;\r\n                background-size: cover;\r\n                margin-right: 5px;\r\n              }\r\n\r\n              .c-info {\r\n                width: 90%;\r\n                .c-name {\r\n                  .name {\r\n                    color: #01aaed;\r\n                    padding: 0 3px;\r\n                  }\r\n\r\n                  .content {\r\n                    margin-left: 2px;\r\n                    line-height: 20px;\r\n                  }\r\n                }\r\n\r\n                .c-time {\r\n                  margin-top: 12px;\r\n                  color: gray;\r\n                  i {\r\n                    margin: 0 5px;\r\n                  }\r\n\r\n                  span {\r\n                    margin: 0 3px;\r\n                  }\r\n\r\n                  a {\r\n                    user-select: none;\r\n                    color: #009688;\r\n                    cursor: pointer;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            .replycontainer {\r\n              width: 100%;\r\n              margin-top: 30px;\r\n              transition: height 0.5s;\r\n              overflow: hidden;\r\n\r\n              .textbox {\r\n                position: relative;\r\n                width: 90%;\r\n                height: 0;\r\n                margin: 0 41px;\r\n                transition: height 0.5s;\r\n\r\n                &.showbox {\r\n                  height: 131px;\r\n                }\r\n\r\n                .input {\r\n                  min-height: 80px;\r\n                  width: 90%;\r\n                  color: gray;\r\n                  font-size: 16px;\r\n                  padding: 12px;\r\n                  font-family: SimSun;\r\n                }\r\n\r\n                .layui-btn {\r\n                  position: absolute;\r\n                  bottom: 0;\r\n                  left: 0;\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          @keyframes pp {\r\n            from {\r\n              opacity: 0;\r\n              transform: scale(0);\r\n            }\r\n\r\n            to {\r\n              transform: scale(1);\r\n              opacity: 1;\r\n            }\r\n          }\r\n\r\n          .loading {\r\n            width: 100%;\r\n            background-color: #fff;\r\n            text-align: center;\r\n            font-size: 16px;\r\n\r\n            div {\r\n              position: relative;\r\n              margin: auto;\r\n              height: 51.5px;\r\n              width: 220px;\r\n              line-height: 51.5px;\r\n            }\r\n\r\n            span {\r\n              height: 100%;\r\n              width: 100%;\r\n              box-sizing: border-box;\r\n              height: 100%;\r\n            }\r\n\r\n            svg {\r\n              position: absolute;\r\n              right: 0;\r\n              top: 5px;\r\n              height: 40px;\r\n              width: 40px;\r\n              animation: loading-rotate 1s linear infinite;\r\n\r\n              circle {\r\n                height: 40px;\r\n                width: 40px;\r\n                animation: loading-dash 1.5s ease-in-out infinite;\r\n                stroke-dashoffset: 0;\r\n                stroke-width: 2;\r\n                stroke: #409eff;\r\n                stroke-linecap: round;\r\n              }\r\n            }\r\n          }\r\n\r\n          .no-more {\r\n            width: 100%;\r\n            height: 30px;\r\n            background-color: #fff;\r\n            line-height: 30px;\r\n            text-align: center;\r\n            font-size: 16px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}